<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2482px" height="2321px" viewBox="-0.5 -0.5 2482 2321" content="&lt;mxfile&gt;&lt;diagram id=&quot;GYEziSLb1K7QBYWul6ba&quot; name=&quot;第 1 页&quot;&gt;7X3Zkts2t+6znAtWdbuquzgPl5o621WJ42072X/2jYotUd08UYsyKbXt8/QHAAGO4ChwkhCnbImSSGAtYM3rg6As3n7+5tvH1z+8rbMXZHH7U1CWgiwrli6Cf+CVX/iKqsjhlRff3YbXpPjCV/f/Ofgi/uHL2d06QeqLJ8/bn9xj+uLGOxyczSl1zfZ970f6aztvn37q0X5xche+bux9/ur/uNvTa3jVlI34+n857ssrebKkW+Enbzb5Mp5J8GpvvR+JS8pKUBa+553CV28/F84eUo/QJfzdU8Gn0cB853Cq8wNVxiN7t/dnPDs8stMvMl3fOx+2DvyFKCjzH6/uyfl6tDfw0x+Aw+Da6+ltD95J4OXO3e8X3t7z0W+VJ/QfuI4f4/gn52fhYKWIBGDxON6bc/J/ga/gdfIACInp9iMmu6ya+OJrguayQkhsY2a/RPeL6QFeYJIU0JMsTHbk8Q4nGnkyZLOsp6fFIiJbjkYUSubJhj+1DPwTQkZV1nJUlDSJQkVVZEJEcfpENLQ0DU0lvxIlUaPQUJJY0FDMUczZApmE3x68g5MmEZip/+s/mJzozT/wzaNG3i5/Jj9c/sLvIGmxwJX1PKlF9F8ZSQPv7G/wEFUsm23/xcHfwiISDr6U7L6zt0/ue1rg0iiIfjrzfftX4gtHzz2cgsSdP8MLMTejJYnZKWtihhvhHWPeREOrxy6NEbvkBvySZNrWUMB/ZfxKMkdSO+FOjvyE3IT8anaLhIsI/yqzS5pxQm68cX66p//EWwW8+yfxScwF+OZXkiWJH0X8u4x5F282yWTNz7ryKhpgU7JLLYg+KpLrg5Fcab3SjVZL3RjXWrdGoVkU0UyJNs1kq1lUiiml7wEN5lv3Hbx8gS+Dk3/ewEGRzyCxkT9E6K1/P0MXA1Bb2e2QikhcCm/iH9+Cl/W7659cb7113l1AfHw7MMjwjuE34YOMeeLDxFAooyOXgqN9SK3XxAgyYwH/Qnsu8WPwlPD3Ne+JLMqHIDQpZ3CF+U67R0XEDQlEKCP64FX6V7dBhswKET+83zAhvp+dMyKC//795mkQ3CYNgDS392uwJXznxfUOiBKvz+cduHSL5EjpkeD1bX30vH1IFPSqCUmMZcnXCyMKklAZUbD9DTZOVPhu774cwOu9s0PaMx/SKjdV6ocVpLQjpEi0+BYtvMUiumX0ZkvUsyLq3B/+R1uNYtFdb8cwOQNDVJHXkHgH7+TufkE+h6R5+vABfMt+g6se/1Q8H9zvSE4fvcA9hYIK/XV6dSK1Dl48nwO4W+GquhFC0k2bNSBnuHcITSNaRbbP6dfRQV8CEsHduRs7pCum/OE5OOYXen4mz/bm3xckvh7wLoDTcQ+AS/aeOqW7c+DA0Z0gw97s0+YV/uCEBMkJvrbhKH3g9fgVu6+QvM0HlVkyNGZe+0qCW1JX0ZbcOfbp7MOsVW75RB+BwZyPRw8oD8jMZ6gnnj3EP+ewDR5vbBueDwFQw4gUoYvte3snRT53R5a5G6REFlirgGJQoPmQvn6408ClW6NhLMGANRo4p/XmGYVA8MskMYEI8dFnL25wcnxE90iwbez9HlL1xsi38Q5BKKMzGsEF3wql7Ifd+bBJEfJvsgwT3zrZz3vnxoj37iGN+eEI9E5MoG9/Lv8Mb+w7b957aICA/Y0WH9Jf2YAC/L19QnrWPtk3RsScEHz33cNLsD6c31KLDrx/RiT0dtGXboxU2U2KiLB2Dzu4qD5guqG3TQyQ7lzOtJMZe6Cm0KnLGWX/sc8pqVbO51SoJRVMigH6DmDzyHVRhGrvBtgqwkmNJtviSigRrhFCAihHg7VzPN0QKRIKZu8dXqD17J7egLDS5uEyCd+u4YfB3ZfPf3z9bT1bLr+s5398Xn/9+L+re0ErE5HXRq+QKG9nIG2RX7f3gFV8O9MPNwzYJc/uYRt6E4k3t0MHahZw7R2h0QX/vh1KPIfhfBy5AEuj0dw7M6/29rOzn0dBK2JM4TKIbDVCfxF/NRvy142c+aXSajElQ2Vgfum9xvxxKpDH+zsVQfkM/Pf1beXgSZxm82r7mAAH+825IQrASLOkI4sETB7tO+DrbqFMulEaHGD9mevckirGEbe7DyRce39Hr8x4/35/i2QJ06KcKGntAQNj4ZZBr26HBGl5sfMdZ705nG6WAGgjbG+MBCRJAQuTcH0WCal7R5sUSKTyEzgLcXCcbZx0BwLX+wHpKB9D4zRM+Yd/w3vI7+MIx8OpDToASATxvxwbpWdhsgInwcH2Cy04Fz7MjStRtk6w8d3jCeVyUSINZnE/7sYwDzBCH47RRn8fvHgi8agDQV6gr6Ik9Q8XOWTP8DuBc8LrZ/iZ/P3f6y8fP/22Xq6+LtaL/5p9/LRefVo+jmBoQ++YgcQxXEDrV7BP1u52BFb8OOTG73bo5wF/7/yGSxQS0iEhNUhFVJh4X4xh8CffdvdBbGo9wjE+RLoCfRXwmu+5wfYcZMgaLi6+59rsOfsdLHBc6UIqXh7GMAUsDFBFXThUPBs4gcDdOnzPDbbnokXTfM8p7m7r7JDx8tfqrxWwXeZ//XYrVMR5F0BB9wDWd0PKOYetO7QFPQ7x9ldONrx6YdEfkAtQ2J1xgIQE1aD3sfC8f11nDMN/9fbbIJbA263vBAFxrZ7Pux2u6tw47jua6M733uDn0HUZkfQT/8QD2rlOOCOsWJDXFEarzilf6xQL9s3Zhym5/a8xzORm5HgcQsTeivMTmLjx+5+CNhebVoeMMyEcV+dBMI0e08OartdLD2s6i+q8Wi1h5FJZ5hb389MWVaoZ5kO0uYVMq2CUznxA8usIi9YPJ5t0KkHxZpPfCIlS9Wc7lAnoa6QlIFpOtAx07X3KasKCirvFZ5QJLJAM9JEKOvreESydX2kzm9BrdJN6jyaVCZlmWspq9QEOwhXYsUwZP1afQipjNLrRBwWjD8JemFEPPWqQLlw9wasdNqVERs1HMNI/hbBlBbXZjW9WYYdz3TkF6HvQrG80lYxWBJrmlFZ9QGB4/zpZjVcAlpbRfFB1ucD0neHLb+52i9qwaOo2jeLWTOM2Rq6qoVRJibuUL3FXZVqNFRPQQHMYjJa4t75g9dxSrTvJ60FroI0UmOi0A7ChUGAFRVVuceIBEimTdzg6dDG0dP+PZqp5zAmqcGTS/0PDm61YJc1bz5kI1xyOS6lS7rKMlbanrmfrhqL6sinQXtGe9QHqSiFvsAmJmo2KS6g2BKmV0KQ+23B9x4G3W4oAkbrbcKscX38Fa0iI9amLeX2A93+zj3XZFyIs4DRUGA4NuQbvA03aJNvoEB0MRRIagGOjbvBE2QvECk8EO53YraGPqCmvmw80Rq0SesDvYG8B9CNIYjOjrRzJL9c8Rg96Smq9ZH3emxI3uV5FVrymPQzuTOBTubtIU9M4hI4KgI48/B7m1E3zqBdVgHjzZgf/Fm3BElahn3FO5aElutxMb87bere3X4JihiEz4s1Dnop9Ovnu8/mUFn6d6+iq5dCNChz3KsnDWqImV/ZzirpmWSnUAjGQYzJMsaC0UnPrfZyxgzhZaQidRhIypygYJECQRBIxaJEEFrnKEijsZt4+ZfnCGzyEJh7cPLJ+/Eld1Mn4a2IZpOMDl4fn8SXC5o2DMgkXxeaLjlBhEV9KLQo9f9ZMtG5S+WsWwSVdzpG7Jga+EAPgxyc/VEDgRwd3/CPUw79vRPAk3j2haRLwXh7ucAetaufVVcb+y/MdXAww5x3/e5/Za/SNvDHhH9qe9L1NlBNxTuvgZJ/Owd193Q3aSFBnpKu0gn/Y7CNJNtPy9UExKJtJp2wmJrUgeusDJS7fTLXOKWq/nfRRbSd9Mtvphw82AyyQ37kv17ChZIuCt93dhlIH21BSp9vJGNV2qqhho+ymvXtwHgi74UaSrAKDb6wbE+o5AiMcb8xnn+KtNiyOuRZyhd+7dSJU+e3I8dnZb+7+VziKBXCLvb2Ne1gjZxp/fQGkgIuKmj45P7Ifhj958w4ejkPA4WY8K0kt8qxQLWHL6MdoZpFp7pv8fDhTRjgfBEA99UlcG1OSCrliMgXqiKq8mQUY+zWzpV791sZnT15wVm57o9nMG80SOcNx6ONxs+cSPcjpYwwpB+pq2UOmLTnDtcsOPpSLq2pHYFj5R6gaM0IshJu6o36GQPHRowt/6G4n52FbuZ2v9rrz9WuNWCkKxcXWhnKxyWgauNiDKWZxko5aurCfEsTuyLXnbBo0qMDJ32yXUHQn5RJ0kDKXauWFalndFco2rZm7tLo1I514fVAUiu7VOtO95tXqXlry1RhM904n+XpwXoAha5+c8tB0LEPzSm38jj4PVI5xPpwpI5wPD1SOcD55IV0xpapYxHgNIkmjGERWVwaR0T4MGdszl1SWEQOLGFt1DKx6BhEl3y+xt4hahS5lScoEInUcgmIViJQMuS1jmRQMRnbzo4rKqQlrpUdRNEuZC998dnwXTBaWj17GcGWw6JMsXbCzTNlMMuFBfBRlq4IT6F2WcNXskbLckfvjTgeZhNoOSvP6m4xTAkYfqrTki/uEWptIhKRhZ0o9f6zmI7IkFfENky/ot065cBvfgaYBNKfv2po6FwzFefNODhoPGUi21L6nkdxXG0V1moPGairpZlZpUsr2qYg5KpPYkXGtsSNVpsSO9KFEMxnNleZtrqpUL5UBqll3XZZy4IkInge6VvK3zwMlN1ZDDo5Vl+fCHtQaDE3vKOxBDIdra8FTVYomH8wHJqPhThYDY1+83B9LOU0QqfiE8YvvangOkyjqzIkVVewxvazKbdPL6einUVOuNKwETXdwJ0mfkzkIQLauzKH0KUrKYJEdMhyK0HmVGJgFCJkQ7Uzy4kK74OPnjwICN3F8/3xEeIDwl+Ln118n9/z2GezZT6jUslr15yfYBOLjojmzl3ejST6VMSIjLKnYL4WL7AJTfqUL5kqYacJKE8wnYaagF4YwX8KPLE2Yi8LKFGaSMDOr181FkDHX4B5cbo4wDK92stvAYtJ0a7PVqXfKYvWnF4TY8EGqs7GeRboJEgdLEwg9Fz8R7xPaE4/h7l3XeCYSu9Wgps285NEvoRoYRY8N2bG14R/qAyGyVSULmDE/Ibo/lj14wVneHcvhnn93BmH6l/JHc7Z3yPY3iII7BNP/KHswW5YPq/fLEMS2KvzTdhkkqNEcRpwOVP54wLZzsXuzqHgs36Xsd2kA3HbWCvl5qysbjfq4T3/9/jsXx8Mw2mMtjjmfx8jn1/Np6/04cF73z+ss0mr9Cde7moktV4F0JkO5RQCrMJ4CT45Vllr87hsQFcryAS4VajQf2NT+bu/9AFde3e3WOQhZ5M6tHbxGCQEGkf0siuuDLmmP+dC+YonkajK4L6sGg8BycclgX4Hl8BkLe79fw/tUm0u1AsJdjrVy240myhuWsuAKPud4urtHIVVTsObwxXwuzGcwpDp/gnHWlQEDqyb4SBXmpjBbVuz6Czuhj5xnxTxzDltUcL/ePKddl2n2usC1BVabJcFlN1sJ1gwtsnkc7TdnVzBJDW4sa4W2lCiYCsxbzMH0pHhvVSrSgg2U2y25C4UEgir1AUNYwwlEKNZCWQK+9tY67u3TzvPfiJzB9XOwcHnzfF+L83nCtVwLnZYejCd7VyqBC9ZVYr1Mx+QqOpqUtSlmmukaC4LClKywIAg76WNLLWKbXWKGabTy4EZFF5dVWFEQsQiq1ADFDhWnuPIKq74rrDJGJJTqPZZWFazsLsG0xLRjJlF6MiQalpaiMpAFtAJDJrKgbY1VLRlC5EVKhjCv0ixCzcugn0mmnL5HOCr8swwvmjWhknly6TQm6YTPloIHETKRUC1lUn+15mJ2xdNOexG7ElHFSDhFeyDrg4QpmpYrj8FGm5L139HeBEvS2ME/1Ds5x6IMWgEOx+VR/jDUgX7K5ATWSzpxczEYBvHvLmQMC1miiFHYuUyayFY30qT5aTcFcB2dHrWh92Lf1KZZcyuES+BRVN92JstL6ohSHa3+z/XG3u8h+Ru3yFyFtMsgbEdyLSXrOrKcSCtP8x69qC8v6rcr7KWp9v+ayc168pHSMaMzjyEV+H8RQALhqZ7JjbLz/8y2R0k1AYO6TFNROGEO1rpERjM2TcXVz2ju1MBoGCRKkfNTsPqsUJ6tKlm1pD5tWqb6rG0cm9JZ5V5wz+KRLiu9NdqzOvPW8uYNA7+x3K4id2qShuukMKy7CEFdqzKBEvX97Jyd4I5wIejSyLwGgzRq0ybGi2nkDFKFZpBqDNSz0fjgjiGcb4PifBPDon+Txhip881NmtHcaRKiGyZNwjodLqIrYgZqOj6qkAOFkwlhGgIHk5iBzMUNFzejFzclDfIBbsUXI/Pw6uzkktkP13w//KpvRcsSTAch52zSOo/ePSA7C1uF7j40HE9ZyrLc1by/Yzf1oDc8i+pdKn54/35fbwE34Rs7YvW3Ag5l6Dm3zf8mVycr25etZPvtmM5WJt0mSfl0m2LQSqvJDy8CxRQbp2uGOJLYoB1JLA6WszGaV2Bzj4N7HKMKcCRPw4Mq2nWKDQIuqZGkNqyUpFaJAEoGOWiSmkWQw2p8EMEgctrKy2kiLAcQ0xYX01xMT1pMx8iJYD9hQb0Bu8Q78Jh0hbg2Mset0cR1dFYYc3HdOG3YogpqEBFP+ipSIt4aSsST0XARz0X8NEV8hA5w9PZ7LtSrsP61dLSEaoMrXdngbUtbxUe5fnXyIKeBmbQCksE63E1eQMKl+vilekl34Pv3AkHeXXNgVVFnOwjAkjnWLCO9cZUlS1ZaZckWDcSus15kq/2RxH3qHzmvf8zh9A+vKOL6Z/z6p8SriFLUuPA8rjavkNYdtB9wn6bcp7HUWgqiq5ZL07raUJVCUSryYEpF4UqFK5WpKxXeynTRafbZPmy6qKchKTLxBYrt2rIWR/jfbkdZWXno0pgf6d7GDEOqEDWx0kkCROFLWBouI4xWSH0XLMAZ/uDN3W7hY6iweRXgmVXKpYnXl+2IEM0cn6kIeSyKuuTGKj1uWjMlM6miH8RHUY6uNNTS6FufHd8FU4DMqo+WYNEKvuTBKgksXvDFdfekdXfmULyrTjR1iXyqp8X6gynpObneWaebJMtTCOZZlCowazjZzavAuOwev+wuSbSgYt1Cec08r1N8Xm5nyauSA2Kbdgi1puOiJyKyftLRR/qU2l7FtXmpNteVGtpctjrT5pNIzUkkM5lS54NV/EXD4fqc6/MR6/N6Vd1Q8d0JRYqi4oHUMYaLIvy77Y3b5/qOoZu5RpMr04E82zguVagQzVeqCkmhN3tVKE5DFVLKJCOFNIQu5IWSXBdOWhdmD8eDioMHJ9vJcLNObLIzb0akHZXbSKZfKJvlvGweroQwGg4XzVw0j1g0T6mGnWEosHBubFF7Jl2tAo+JSykURc1D00R1Duz1iT6wPqFUD0ZSfQiF0rx+kJ82w85QjSuqk134jCRV2XOLJdXExImUOZKP2pDfVZWzJBXbY+1q36IjzA3BUuHh5bz2jTBaUdJ6w8ozurPaN6lYTHI+s+Vz9lRZxeixxlGiHQPM+dwLn+U8und3fKaZgZzPHfBZEjONSJKZt/e74rNM5HYLcAVFNYW4FQlVLAv1mpHYHNEBb96qylmSaT6GNpyPIY+0R2lKrgaPQFX5Ppcfat7EvWp8WBY88YN95Cukr0nIGr+gD6MUNltoU/QHByDJRvjc5IvSAaBno//7TuQnqiSSOKXFNOEpoxY6XyW/IUkjTcwrfVXqyisnR3SNPO8va3k9rRjDqWmNq2mupsdzAGiL6HGJtE/0F7serwVoKdij0w+JYNdJ5j95sIBKEewWC7ddv6AFVTGMtHAXRbVCvFM7TS+U+QbFNyNKbwihT6uv4EJ/ZKK6+Z1wFIutm0QPiuE0U3NVkF1IUSQrf68S74nlYwo8sQ6fuDsfipuH2D0mmhc59ok4eiwKuxuMI+9+bV1w39PmdQ0pUVXZnYumhpepJ0HfuKa2SDidaGrVyGOCUI8AYuGCyWLTwOuFapWG7DBgO5HMoR24Jh65+9W+rbWzUr2y3p5OOpLRc8JA5KRanLh/StV6RgYf6cHQKe4pNdvIIu6oFDfOlGWVdztRhAskn1XWBXMlzDSIhGU+CTMFvTCE+RJ+ZGkw55xHy4K56Cf4NfDRzBTMYuvp8lw05rIIHeOJJKQjTORojWiUnjRqbJpFCENpngydkgZu4XfKmoaFI3lR0/Es2jePJKWDVUYCpehTNtlDcyfoopFzhw13kHxSBesJv8BS7QnJMEswRcEEL1RhbgqzUM7p6IUKpdpMwl+eG1jOWeiG4Lq5wD+HItCA9weCsxmjG8pDJJjQJIcVils7eGVZU2sRONvIdZQocJKqlJeQUdfqZSKyuAiP16QPcgA88EXBoi0xzZk9aQMoy+647dEc7J0IdDF7ZD0siGZhNuJkGXWUYUFokXrI/CM7JxGeWQgX5Jm1r1j3ZNsaA1iMm3w7B4zed4YkYOUQRkxC37G3ayCpdu7LQBSsM4IRE5B9HVoD2mV6roqH0YiATUZqPcM/1JGCT90dsPl2haNipQATBL7sGc9bXdlo1Gf8/fHLt49/rr/+Pvt7tf7z0+//VDyRNaF127I0+tDqrXkwoA/TG3P6EpiA+D8OfPL5ePQCB9nsPvzn9Gqf0D/wTZhiFd0A/gUHasOfvAJHYgsNVmBRIB8h8OIfbuyiVsVJEecZTt/ebJwAzt077OE8n3+h1w5yb31smIeUerMD4MsBcSh+PKCLiGYbG5E2sPfv0Y8Ape12odyRkQgTBaqdJK186Jg8XsEEqyqRx6dCg6Gt4BoDGLEFEgxvBdcawohJeHBegP0EiyoHJmSDgYyYnD98F8xgUK+i1hBGTELAebCngB3jbpyBSFhrCAM5Fs5h61b5FdUjMpbl360IqqdzwS0TyiSqvnd28CG2v/mKgqdLRei2qsq0pOrQuEY9aYlknS/rZxUbllVF/axCi2P1+jwrPGpQTZZwyeJwJVxkPGMr4ZpcMoLXY42wHSbV/MjbYVqqA1WOTtqLOh2J8E8hHEdfY9/rWHwQDT99jy2ShZFtftK0vPLvDLLEaAdBtNtBVtMYrUJGm1oYzeIIJiVGX47vSp98Zw1JxDd4IcSYaGYYrffJ6OL+a45JxHZH6wRWOmpjVftjdASAOnJ4AkPPO2QRSED/DplMHt2cbL36sVSyDXdAfDSei4vSi3zR2FXUROIqXlRPSuSXJpimYC2RojJgHTu8soD1oJ2JtrGUdDIQcjrp7Yvq3EXaoeAUv0SSGEg5RdVbS7nmAGo4/CfrF29fslPTAM3DIf6T8YwtDHULZbQ8csX0MBaXHxF9AYxmJs6k63lY3O6OiDY5XmpfTmjuLHA5357WmQ9qFsPBcD6zjiZmzDMpHzjujs/F+AScz2z5LCkZO1ynZAg6YzSB3eKM7tzfyvYV6xTAle743K71nPO5eXekNKSCtordQc5npnzWcgcf9spn1oYYz/oUH1CQtcTMHk8csVhbYqowXwgzkTTDy5zRRRvasPrc0MV1GiyKg4aLrZVEGy+vWKoNi3T5Yk4GbCayotWc5NIoQSFqNSqLPKbcOsIvPYpSKsYvPkrA+mAT56ei9hZSOxn8j8pNk8F/kscYIOMpFsuMKeC7jlEmUYv3K0LSk54gI0jbKUy1GjZv0tO7IU7WL0suNWmZ9Jp0CqcvZSsLKbFBugLXGOgXfnppb06mkjntsNfSQpkfa9kbo7V8sXCf5x3yGtK+GB2J4KgVkFJf1Rmjqed2NHLGSt2nFsWmhTRNNfQRYHR23hT+6WfPRes7Yk9G4EaFVOQeoeOHfxZTvsWdwgnm7oR4GM2oJltHihvP8RWbBOvKccedYxHsYGe46ptnAfe9Z9vv2/kQ9QOTeX/7LXhZO4ftEW6XNRwYg3KwjOBjUszFxOoTs/2BEsXsk2WLoiVYnMJBbtxLDW7rmttII3asKWqTjYyHS+GxSmF2RbUs8D+gSCP4Hz/XwFTdQ/J3Wuo6WoknpY2lSASl5F1HZaoyOYChOTxGBInxD5FvhfAY1YZzM9lZU0ZSDnWPBFXn1rQqZ9iqG53ZwEpTT4YwUUqysALj5EKFRWOGOqDCan6oBG8SGZMWuoEmkYaOAtGiFTq0LKq1VeEfyqi14gxC9V2ftY1jU9Kh7gX3LB7pstJxoz2rM8ctb+UwcCHLzStyJ+ohjw0hzMa4LxoYl4kzrBGAdXBHuBBcc1sVC7s0isQSA4Z0uiQPBqPZpRoT/axOww/XaDamMpxZU5zN4GYNN2smI75h4+sa4qtfdfcrk/BBpqJR0dWcmO6syxU8jcsbLm9GL29Kzpoip1qJkY14dcZyyezTx1aNfLqM12orWpYeD1MHvPvdA8KziOTi3YeG4ylLYZb7m/d37Kbe79Fw5btU/PD+/b7eAm7CN3bE6m8FlJ7WdNv8b3J1srJ92Uq2347tbGVSb5KUT70pBsV2ZoL3BW7dOsYhNCo0uzDGYVJiHNqAqZuRVnxxn2M0dxqDZK59Fg9U0q5TbBJwWY1ktWGlZLUqKvk4B01Ws4lztC8L61NUq7SyMGU4UU3Gw0U1F9UTFdXxASDwDOZQWG/ANvEOPDRdhdeW6dWjiewoY8VcZKttK9uaFEUNJOZlipgnsnYIMS9zMc/F/JTFfIS4e/T2ey7YKzs203ETqi2udGWLq0pLwS4+yvVrlgc5CkFWVZoBP6BkL26D5pKdS/axSPaS3sH37wXCvLvWwao6z7A8tWlSpGSONStLb1xtxdC+pKLRinoNkx6J2Jnian0cT7/eBeU4nkgRDKGDeI0R10Hj10El3kWUtMb16HEReoXE7qArgfs25b6NpdZSEp01ZKqNk8LTCVvREskDgkWqPJHMFcvkFQvvcrroXNNsmzZd3FMBBVmIe43WsNNI/l8mk7WRGfsaN/a5TB6/TJ5SwKlpnW+bubEtuJ20SpGj06pJR5aaryqV1K7S3lpnMIc1FQq1WnQ4I19rbuRz0KguQh/J0hlGkqrsucWSamLiRMqAaVKraDoLRxAQAA6P2zk8rpU59lAxzcceD8STdZrpzURzdAuQS4C1OEAuna3F56JxaMYpaVkOkMsBcocHyCWHqI8cmEennEvVgaaoT7big6m4FB6FFOYAuWOVeIMC5JKWshbVpmMHyDVkmoy0erKm+wTINfroBblMYVGZYQ6nsMh4xqawuBYazZ0GT8RwgFwOkNvGvCJ34gC5vHRkqgC5RuMuqEH8cIPW0ERsiyHMGt7QxM2aKxDfHCB3GgC5Bgfk5vJm/PKGA+RygNzcnVrRkgPklm2iommxW7AcIJcD5HKAXA6Qy8R2Hhgg19BbxziEHvsaDYMS47AGTN2MtOKL+xyjudMYJDMHyL0igFyjfVlYr6KaVhZmDCiqR1oWxkX1aO40dlHNAXJbi+xhAXJJD8IVIo2YtD4Rg3llW31Sk7XBxTwX85MU8xwgdzoAuaSZrEXJ8ugBck2FItnZ1yzXp7XCJTuX7KOX7FPCKxE4QO6NAuSa6iSCSKZG0UFEEQyhg3iNEddB49dBHCD3GpTE4AC5ZuOk8HTCVrREMpHuQygWnkjmimXyioV3OU0ZINeiNew0kv+XyWRrZMa+xY19LpPHL5OnFHDiALm3BJBrdQZzWFOhUKtFhzPyreZGPgeN6iL0wQFyW0athwTIVcTOxEmnqKmKyFFTy9jaHF6hBezXJSn0r0h+LYHEpawgCL9cVyFFKyG5PNTBSmKj4YzNweFKj52ZzPFqk3i1jMqputDPSTh18C1pBf+w0dtDI9kq4iSQbBWR0rLQgfauTTaCenRZ/qWeXmxBaIZ6kUZ4bbBSM5XwvPl6bWhetCePKkrD2Q0jbaVpYDdMyQjoFy65QsW2sLjoWvkKIJc7VdlDQjFHD+/UJxsEilmRZJqSv0IoZoW0PHVavnGZxUVlhjycxUXGMzbNdpvqaox3wkDALLKy8SPouMI4pFyZYyscEmUWdcGT69ysJmZyvXEtK2MGyUdU4RlT4YZpY2yGsjPJ5dIGhLg+qaaRS+3SUhsUnFiRJgFOrEgUcOJI2w6h6EcKTswVfTd3GrxQpy+3+jbQijv1vIdEMVakkRYdcsF0xYIJQkqF4kgKX0iGzkwuXTuqcecE5MDIlexgQORm6W+OvVy21Yum1fBJrLF3G26dPtceR33mK6/x1VtWicvOqXud3s2wONOK1LileIj2YEWiFGoqyoB5qZFWanKv8Iq9wq7DVbcFPN2pUB8SkFqRJgFIrUi0IkNpQJk+0io6LtO5TG8r028UobpL2T4ocnWUt74+CCCF2qsnMS8ErE/qkSJXc33A9UFLfXA7UNZdaoBBIa4VWW6pAcYPca3IFIjrDmrB69N6pBDXXAVckwroN1kK7yvBkn6UA0i8oN+6C8iikLYkH5F4QR9CF6DZDalQH0WbK9LJgG4r8iRAtxWZgsMXqaYhtCIvieNa8Qq1YgMgi4mhdnOlNBmQb0VunJGfToSPlsWXB8P/i8bDFRlXZFcS4btt1O8u9cLAaOCKbBYKK9zUSu1Chf/tdpRluzKFuSiYirAyBEsVZmaCUel20wynoAhMMyc4+d6/DiE81lBJXuBLWG4uN4ANQF6B1QrI74KVOcMfvLnbLXzMnLYaYla30kQNWK1mUnySla/J02l8ZlGRJxeXIbTjsyHM54IlCStNmK0Ea8b5XMRnWZf64zO5Cd/PvfNZUcwe+VycRm7HZ1WYL4SZKKwsASgbS+Z8jhJzRlpFK5Ra6u74LHM+98Rn05IG5POwp7IoysiiwQqPBnMnunMnmudIL8qRNursYzX7XnrurjLYMOw5MYrS2cEONVUctdtruDix0jxOzCHzm0gcfk7MQAUYg54fo/CIZl8ek67raX1imo9GPnrdmdOkFhdSclYzdo6z+Ws1D3/YHZ+LYfx48Jotn7Mwl5LZYxBELbaIajs3mhaaHppE/h3cuskGJvbO7lRlpEXziF4UOKCfX3+d3PPbZ9/bfCqDYWGxlvFiE0XGC5rBwrXMNJzfg2blFRG9OZrJymVtdGiC+YQkFArTmhIK3JrCbCmsdMHS0YswgjtD2upJmGnTkmIspJUoihmuUw48ktTOuN4uqZqHcC4KNMbSRI6kCYOYFbRzwAJT4VqazwRLhFdmUrcGT9LLGNk6UglOMFlGkkSLjFDRQFmsI41mxzaOjCQPakpzo5aDl4qVkKmmj2rCoxogVkLGc7uxEvnCPECr8MkooNhCuIG174QrdH2yn/clsGxpHM1K1L9eIfnOhwDItxIAHIbPQkfLMHpMCfYfkLJBcdwsQXbOjO6ZcTi/cUaMgRFAWDn+e/GU4gNaaj7rWds4Nj2gLBc+ZMm53ivXvd0ucAqf1JznW13ZaNQnffpz/WX19c+/vixW69Wnb18+rr4yWwVNhqjblqXRh1h3PT19gLYWPNUA2ndbB1pzqD0E/PsBWohtcr0Druv+DKPdj7UfbNYhzXqQaeEJQyVP41xJc2X97ruHlx55Ax8ncu6MmDsSC+7EsMiXp6PXa/t08t3nM3Cx1gWDu7sDfum/UFUvmtOl5NkoDFRoATTNuZeYSOJPSSzaF/f395XEr8jIp1PrNfLzOFQjq0IcC8NZgaKQWS6iE/4XDeeyAJiSiZ5LEQ506ngzSmmQTKKrl8V3ZB7fYV7nybqU9HZCSMzs9HX0TGZPK5Gn5FnFcAEE02boGFmJrC7UkHAXVTwEid4HvMvgo46+U7SuwSistIhvhKwwjUdNfPjNsCdqVyGLOi4+hokX+MLUiqq7kXf6N4lxjtchLYsV/PXH+tts/ntlpKDbDcaXIoul+Omvt2dkZ3g7AabnkB5D8RIXiv0+F6jRaLYVBnrZmmSoXMqeA70qrmKu6VGXbrY4ii/uXGe/HWyDsdMp1GPXL9cxYeQbyiQmrvwFTkOBqQ+5HQcw7xM7nRm3uPjgjxpKUv2J9l9A7AI/2AxvFYxEaJlbw1aotPvydbH+e7n6u8QmYGmH//3xy7ePf64/LtdfPv/x9beiYGufJg/L6YWT+vj5r/VCXD+tZt/++lLuaox2jiN/zqh2V7nb+feXj59+q1gEV+VGpIwAblnwRw3+qItjXwj6D7wAZrO7IcGGnoszmsuIEj0FRNL623/6UvrocbPfP/72qdcnfv34v6uehGFpwL53odvdRgirBRK2NdwEDwJKvZ6I5Y0LmNJfmvJO+cJ3CrMVXFipyXcKy51iVFc8Dl7mYfsb/KkhlLXrdIjTYKq5og9Sy5Eo+jCoR06RvrvLij5Yt3WH3dwr1Cu5EsywjXIB2yVjBk+gMzLbzMWA14ZuZHgtynled9bYrRkN+9liJPkYPP6f5GclSPJJ0uVa5atqptJdcBRQPAKYPEQTXDEmHt4vbBHO6nav1vREBmvAz5XJJM8kz8AAFbXPp441LJUhzbREh9DicgaG50GibHnqntdY7HkCBDO1PW/SOl+HQwnTipEFGFRGXgXk17jP9Pm+huYwli5QjIh5/EZqCPbSSM+kkCbLhe8Qc296ogUjZ6FUhHWqLjIw17pIOYhCoZ6aZzGQcwQkf2rqwqKpiwFtxGJIEq4umspyRifnhOblv+7m38aHY09dqGia8ZiOMkg0hB6yapmDQerFfSUcIZDxMQlqOsQgkxO2+wgw6O2QIHc7tAfq8HniaFudHoRipjkv9Xlwgm61tRtanEHPzm7Q1XHZDXpxLPZGGvBGAkaNT34dwAksgxGoeGr+bgWe44XTaeBQ7s6HzRVNp9Q/7jB8UWWwPvsNTdim6OVYqmbQy7OyuMsTGpWsX5xTbrJF9YqJ5XtZGFVkbMFy7OPig77SrkqfUOaGPEkzxpAoZgyxJQYwY8h4GpgxUzI0RpDmw000RQcCF6fJrlM7WJmoqWbRju+liQ0muBlGuxKKJn6vKQD3bjaD+mIOdIeENAgqqoDVFbpgWejLM4QnrMEvz0OQak1IFSLduHLJAetTnGRJpsXBmKwT2tlLPA7WSTQkg0lOAdLpzoooPkCBs5ktmy2yfwcwFq3GxuJP9/SfxOuEqQjexZYifEMMxUR+TU4l2GKbsqWF2ejUNoNSj2Gwti/RT2e+b/9KfOHouQfYUhnd+bOHcETJEtDk9EZ/wBo95mJ4x5in0dBq7uaK0o9w75GGaPESxR92TcO6qMId3rS1s2mIRRhRVw3gkr1fv52BMFhDWu69zb8lRuy1Tf/dA2tQFj9ApMSwf/525g4dNcRzOPm9c7ilqRNJEi5/4N/5zgvGPYLUcL3bJcbeDcI3b8HNEwFmCm6JCjFSOVAEqLPl2T292ccbIkG0EGJDYe0dEbQE/Od2CBFuhOPrr2Btb7c+0hTPnneCb26IDNF62Hv21vHJWgjf3RAdEqLBxaFZ+3RL5hIxFY8+mFKTaZc26V1S9lbYaAfxpIpOM2QQEZCz7qCk0SpoqVGB6LeXRX/aHUe324noHL1ERqAgS5I4jk6vPo6u9hGWX6qdz8rwEtOwUYeLJAu0HfXaJMPAJmWJGCxWiJlPF3wFlM936ownfndRrrI+YxQpvXsVM39meWfn/5n5xj7IFpWzRckI1Sjm1gtb8kkTyBaFsyXDFdnIHwbeHVcqtVyT9HgNJVVXa4a6Cq4QCUZLlVmlGTaajtjj3j7tPP+NJPShLq7TqzCRHFBfu0LKWoAm1QLsbGuQMrQm56czsN/gkpentuQTgYxEFYvr1Vn26cu3vuyzeTDa0TEd5kLbt5kLbAvnGqU1LVr9P/nmAIVzVrtColZHmdfwHXGxmlgqd1B5wlN8fLm54AULZXAQSmqbqqJGUU4I7CkXnmDQ4KtKNOXUcuc26/ittSOjsp3kjlQl5juSXksQw/EQ/zNbHhgOC/8sQ/ZmdQXRTCl7/Qg3OtDGQWoD/xF4n4B1aO+pAcKxVKZmjdgY7r0aP2A8Zgka9MF+c9bw7AF346yf3cN2vXkusD9qFNwe2QRWe4QiUwzzkVJQpdD6LFiA1ahi87px3tPWtMPMORaf29C0cUou6jUcXecW3LlieK8uYF4a9HKlSvcPwRrYKHu4iu/uq4fDus8rU7HfoWjR06JFVhSqaKE55bLKooVLFYub06+6KaValRcVHrsQIPTOB6o7s32D8/Ho+Sewei9sNBmHvc/Crhcz/YmKYuatepJhYO1+q2JxjSqvOGfswMlpBy7CXeqh5FyV5Eu9t3peGHG4Ul6YOFhcJBoPx9xk4dfAetIAbLK1c9geQ1e2nRE0mnm1BmoYzQz8C3AfRjOJzPPCvyc/q6tgDSMHbDTzAY7TBY7saKZRw+erMrlGEz3KtNZGcBxJ/66rFmxVagc9xi3gy10dmYCG9mIB0zJkl+yIrR28Rt/d28/Ofh4ZjgkKiui/HDeTnyRSkxqFBwsT/hGyh05kdqRlPT0tFqx2ZDroohr5HWkYFE7pLMocVamyDZpitHtA2/pJg/3d9u8eHpLXy8Gjmd5a3Nmb9F0WYJc++26RaY2THkA13cXNGuiT2NYWPyDNtUCjTH0nOtzrQ2hzLDZALSHZ9WpD7fMBZiTCX57BrRQZNT4E/iZ3besEp/QZeLToTHE5Sm1aUaLpmEKFBmIzbTfQSDHTjieU8xHhX4uIT8D4OB+ihJAYvS4uWulBQkUyPiehYOF0VkIBOZqTUJEkYyF7rLSS0E2K7JEpsoeN6KmMh1XXR5gFJhvcvBBhxRQsdLTNfC7MJwbf1XRF9bhuJCljRqoUM1KipQl0JgunuKz1VSpQNQ11RFtJlxNfGDsOHrCkQrQfi36+MrOFD59nLdIovCos/ZlJuAbINKC5DL6Ax2QKsyX8MviVGZYH6YIpQViiuYLuo0O4IvMpAV2kQ0ijuYV+tRRmsrB6QjhHxTusSp3k+da6vKJWISIt4R89N7wgPWZsAszABaYakCeAEDMRvoYS5gk7IhAyUEE0WiFiEbbj72iQaoAZ8/AQLvCRGfOszrjkR1ztAAiETI1wOOYS3UZEpV0RpwrWADz4C7B1BbGZQ97BX0VfxuskvLuOeKyRX84TFWToyLD5DEtaU0+8QHSAI4juHqFkRTfUILbiPBo3eKHAEZhyLTooj8imEtENAfUWmIxzMeZYfvqJNQwGbonRj9CLJdoC0ZBVvKoxVhcCtAZEm4uJXRZSBc1vNhdmT+lFA+yNu3v07TkieuSw5tC/yMjgpOCnT2hhWPBrcO+FPJ6lB2dBeG24rpYIbEyDy8xcEjMVKq1fyMq9T8w7j1oW3VEjKxUt2flTKbIZgcQMx2Gmkc2yFAWTBL/S06MP12xEY7CqDCh78OSl8JD0T1/Xy9XXb1/+/Ad9dUak1jx9O/SAmYilFqBo+OWZgedgYb6QQqHQGqSzhtwULi20gML7QltCTPM7lKGREMgPAv3cFFMLKFp/4FmmhpHh5lqzxa8+hs5DUmATKydcieacttejxxtw2rMVHj3UCeX7IFpqIuK+Dlfn7AkzK+TaTEVIdyFnxWhDlEqjOrswfMQM73O40vBChSRAreVCWDUCFYUYLpvZcvllPfv0T4JxEVWSaixclRoal5VaT+A5qeWZXU/R8lx8Wc2+rUpXZxYPP/rt6vM3NNQC4Zq2XuF4FTKoUBHln6Ah1ZRQKZRlYcH7zJPLQiPTzezPFTBT91DR3P0fN1jH7hZwoLe/7jI5hD345P4+sQBMuKyBuKDIk+TGXeKVCXQhZu4Kq8n8MLNTSdwH/HwWMxWMJRNNj1dLCoNRhHdISfonBPmL2ZyQxeSAzMzKtMwS6RCrojqKh0iAPiRxfs2HCw5ZddCGQc8Cd56p5FkyUetPxKpdJKaeZ1eSzJml3ETWaY9hXVhMlfw6SIiY7CiKWRLxOhTToThC81khiQplV2QyRws1T6+ECsvq1mhZ5vV9ExLoj9SYRoIkxbO04FhC1oMJYUVhoTWAdqql0pRawhpJpFrC0SXk7JfV19WXv1dLJMVWX7+uvhYo+xoEqjaRSknGzImHGSJ4KrOy1OJ33zww/+UDVDRU390D3vNu7/0AV16Bj4/AsCbjz2fjQAZp562KA+VK71v58+TOFwSCpCJ/eIFivXCE4ZqFrn3sIKBwoXtwT669h/cCb05o2mDW4U/iYC6uvQGXgQ5xApiFTEIBJi6nniCS0tHwA/uwxZFfYJwXfjH8FikBIcM6efCvVycxkzAY/dhJGrKTkKZslizlDB5JBytboxxJQF3ZEotju1WZVhI1KE9oibBSnnSY+pJ0Xa/OfdEaGdjkvggzughAt6huqEx0kMwTPabFw92dhbutDBSNalFa1RXKOmXScCNXVk20V4+VyzT/k4+hhkRj3BDtioPmYtgxESmmpM7zndPZPwSRCiv8iYgUouM/Fq30wj6LohYBJvMWVJG0zWEgsHCYacUMwb1Ckmztk10dfy6C/upwFrDNbw18CLj4Z8j+gS9l0dtFs6CyEXzkO8hOgQ9789Cb0yt6B+VBiHaJ3sTkwBSr4uUwlPC9Pd4g0YTfbGxxeX7ycrC3350MjaorDgeaVYDy4el5RZsL2KhO2toc4RSAn0u83LAgHMuK0BoX4wQI/Nalk7kuozkN4sfESmttQ7NRf82PW+y8crR551cTGMv0UYiQzbsd9eakMqlg0YsNnwTM6p1ltTZAZfFDwwcalubIOvWBxR3qBY9vdPB9OVlDoE5WkxRFSTTF0kkWPmzRnIkl84oRWBktmJJnlTWsNH9MIQUTtgynYUsaIiuohHrNmqzTcDSyphUcoVq6x+4abbLEYyWdNNYXtJhj44j+5PtGQqTBbFkKatQcZ2aBBDSlgM5hC3ul5IYb6b75Zmk2mCiJUY7T0WIMddlf+exkdSjdVmSGvtx/ySj7+GrOODSUmsYhmwhe8VltSTbBiNiCJF9NlFwuScwls6eVKals1QpO/+Ok+hMq2SlNf8OYXfSrBa0Qz4Iv8BmCKMaHSw108nQlkXMPX8Tm09Hb78Myl8Jp5pNy+TxbOUJ5Ci3D/5lEy6A8OKo5LCw8oyckcTVJROh8ahZPyT+uX7d+Nv0fnNJlB084OwzuOUMpd/BiHtYfzFBSNJ88x/dHxcXJwUu4+s5cIa5EOWhUyzEzs3WE0U9p6VBcdImqghKlfEWAJDQCJ+4P5zQnNEMLBhj4FqolAUTF5Q06rkPCxYiYP5Gwhq53Kuu9wLWfcDUuaZTDY8beOoqZhKmyhO+erAHCufZEURGQKjM9VUoCJ6kWFJAVfadOhr56kxfjTMH1na98Ld8rgZOJWITRQ/t43Lsb+4TOEAqjbfaJBNtq3rpSaVLd0/JDC4AhJj4IiUhvGPyyg8DbuOAKnAtZ2cHjKIYanMLQpHuAEhCTVNyhgN7ufDqjD8+BM47R/t8zquMDipkEVMMo3fdzWOAHgxaJgNfBQwH/ENvF2RbOgXmOB9sMA2V4ygJgXZgxplKzAoJNYyw5prHxKZXxyZT/JD6hn1J5MT2pGJCdwz1GTUlZ1lTAPTY9o1IS1fSDVBznfCocmdb0Bzp9Ki2PwQRvfQ9KnfjrYN+9/uFtHfiN/w8=&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="0" y="0" width="2480" height="2320" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="971" y="735" width="1510" height="400" fill="#99ffcc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="75" y="330" width="1050" height="110" fill="#99ffcc" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 130 1470 L 130 1420 Q 130 1410 140 1409.97 L 418.63 1409.02" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 423.88 1409 L 416.89 1412.53 L 418.63 1409.02 L 416.87 1405.53 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 250 1570 L 403.63 1570.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 408.88 1570.5 L 401.87 1573.97 L 403.63 1570.48 L 401.89 1566.97 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 130 1690 L 161.54 1738.66" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 164.39 1743.06 L 157.65 1739.09 L 161.54 1738.66 L 163.52 1735.28 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 250 1690 L 403.79 1724.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 408.91 1725.75 L 401.31 1727.63 L 403.79 1724.6 L 402.85 1720.8 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 190 1690 L 298.79 1736.1 Q 308 1740 307.96 1750 L 307.53 1853.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 307.5 1858.88 L 304.03 1851.87 L 307.53 1853.63 L 311.03 1851.9 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="1470" width="240" height="220" rx="8.8" ry="8.8" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 1580px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>struct <font color="#ff3333">rpmsg_virtio_device</font> {</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct rpmsg_device rdev;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct virtio_device *vdev;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct virtqueue *rvq;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct virtqueue *svq;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct metal_io_region *shbuf_io;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct rpmsg_virtio_shm_pool *shpool;</div><div>};</div></div></div></div></foreignObject><text x="12" y="1584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct rpmsg_virtio_device {...</text></switch></g><rect x="425" y="1309" width="380" height="200" rx="16" ry="16" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 378px; height: 1px; padding-top: 1409px; margin-left: 427px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>struct <font color="#ff3333">virtio_device</font><font color="#ffffff"> </font>{</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint32_t notifyid; /**&lt; unique position on the virtio bus */</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct virtio_device_id id; /* the device type identification <font style="background-color: initial;">(used to match it with a driver</font><span style="background-color: initial;">*/</span></div><div><span style="">	</span><span style="white-space: pre;">	</span>uint64_t features; /* the features supported by both ends. */</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned int role; /* if it is virtio backend or front end. */</div><div><span style="">	</span><span style="white-space: pre;">	</span>virtio_dev_reset_cb reset_cb; /* user registered device callback */</div><div><span style="">	</span><span style="white-space: pre;">	</span>const struct virtio_dispatch *func; /* Virtio dispatch table */</div><div><span style="">	</span><span style="white-space: pre;">	</span>void *priv; /*TODO: remove pointer to virtio_device private data */</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned int vrings_num; /* number of vrings */</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct virtio_vring_info *vrings_info;</div><div>};</div></div></div></div></foreignObject><text x="427" y="1413" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct virtio_device {...</text></switch></g><rect x="410" y="1527" width="410" height="174" rx="26.1" ry="26.1" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 1614px; margin-left: 412px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>struct <font color="#ff3333">rpmsg_device</font> {</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct metal_list endpoints;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct rpmsg_endpoint ns_ept;</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned long bitmap[metal_bitmap_longs(RPMSG_ADDR_BMP_SIZE)];</div><div><span style="">	</span><span style="white-space: pre;">	</span>metal_mutex_t lock;</div><div><span style="">	</span><span style="white-space: pre;">	</span>rpmsg_ns_bind_cb ns_bind_cb;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct rpmsg_device_ops ops;</div><div><span style="">	</span><span style="white-space: pre;">	</span>bool support_ns;</div><div>};</div></div></div></div></foreignObject><text x="412" y="1618" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct rpmsg_device {...</text></switch></g><rect x="410" y="1726" width="410" height="560" rx="12.3" ry="12.3" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 2006px; margin-left: 412px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>struct <font color="#ff3333">virtqueue</font><font color="#ffffff"> </font>{</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct virtio_device *vq_dev;</div><div><span style="">	</span><span style="white-space: pre;">	</span>const char *vq_name;</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_queue_index;</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_nentries;</div><div><span style="">	</span><span style="white-space: pre;">	</span>void (*callback)(struct virtqueue *vq);</div><div><span style="">	</span><span style="white-space: pre;">	</span>void (*notify)(struct virtqueue *vq);</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct vring vq_ring;</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_free_cnt;</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_queued_cnt;</div><div><span style="">	</span><span style="white-space: pre;">	</span>void *shm_io; /* opaque pointer to data needed to allow v2p &amp; p2v */</div><div><span style="">	</span>/*</div><div><span style="">	</span> * Head of the free chain in the descriptor table. If</div><div><span style="">	</span> * there are no free descriptors, this will be set to</div><div><span style="">	</span> * VQ_RING_DESC_CHAIN_END.</div><div><span style="">	</span> */</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_desc_head_idx;</div><div><span style="">	</span>/*</div><div><span style="">	</span> * Last consumed descriptor in the used table,</div><div><span style="">	</span> * trails vq_ring.used-&gt;idx.</div><div><span style="">	</span> */</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_used_cons_idx;</div><div><span style="">	</span>/*</div><div><span style="">	</span> * Last consumed descriptor in the available table -</div><div><span style="">	</span> * used by the consumer side.</div><div><span style="">	</span> */</div><div><span style="">	</span><span style="white-space: pre;">	</span>uint16_t vq_available_idx;</div><div>#ifdef VQUEUE_DEBUG</div><div><span style="">	</span><span style="white-space: pre;">	</span>bool vq_inuse;</div><div>#endif</div><div><span style="">	</span>/*</div><div><span style="">	</span> * Used by the host side during callback. Cookie</div><div><span style="">	</span> * holds the address of buffer received from other side.</div><div><span style="">	</span> * Other fields in this structure are not used currently.</div><div><span style="">	</span> */</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct vq_desc_extra vq_descx[0];</div><div>};</div></div></div></div></foreignObject><text x="412" y="2010" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct virtqueue {...</text></switch></g><rect x="0" y="1279" width="420" height="120" fill="#99ffcc" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 1339px; margin-left: 2px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><font color="#000000"> * struct rpmsg_virtio_device - representation of a rpmsg device based on virtio</font></div><div><font color="#000000"> * @rdev: rpmsg device, first property in the struct</font></div><div><font color="#000000"> * @vdev: pointer to the virtio device</font></div><div><font color="#000000"> * @rvq: pointer to receive virtqueue</font></div><div><font color="#000000"> * @svq: pointer to send virtqueue</font></div><div><font color="#000000"> * @shbuf_io: pointer to the shared buffer I/O region</font></div><div><font color="#000000"> * @shpool: pointer to the shared buffers pool</font></div></div></div></div></foreignObject><text x="2" y="1343" fill="#FF3333" font-family="Helvetica" font-size="12px">* struct rpmsg_virtio_device - representation of a rpmsg device based...</text></switch></g><rect x="55" y="1744" width="220" height="100" rx="15" ry="15" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 218px; height: 1px; padding-top: 1794px; margin-left: 57px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>struct <font color="#ff3333">rpmsg_virtio_shm_pool</font> {</div><div><span style="">	</span><span style="white-space: pre;">	</span>void *base;</div><div><span style="">	</span><span style="white-space: pre;">	</span>size_t avail;</div><div><span style="">	</span><span style="white-space: pre;">	</span>size_t size;</div><div>};</div></div></div></div></foreignObject><text x="57" y="1798" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct rpmsg_virtio_shm_pool {...</text></switch></g><rect x="30" y="1860" width="370" height="160" rx="11.2" ry="11.2" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 368px; height: 1px; padding-top: 1940px; margin-left: 32px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="background-color: initial;">struct <font color="#ff3333">metal_io_region</font><font color="#ffffff"> </font>{</span><div><span style="">	</span><span style="white-space: pre;">	</span>void<span style="">			</span>*virt;      /* base virtual address */</div><div><span style="">	</span><span style="white-space: pre;">	</span>const metal_phys_addr_t<span style="">	</span>*physmap;   /* table of base physical address <span style="background-color: initial;">of each of the pages in the I/O </span><span style="background-color: initial;">region */</span></div><div><span style="white-space: pre;">	</span>size_t<span style="">			</span>size;       /**&lt; size of the I/O region */</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned long<span style="">		</span>page_shift; /**&lt; page shift of I/O region */</div><div><span style="">	</span><span style="white-space: pre;">	</span>metal_phys_addr_t<span style="">	</span>page_mask;  /**&lt; page mask of I/O region */</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned int<span style="">		</span>mem_flags;  /* memory attribute of the <span style="background-color: initial;">I/O region */</span></div><div><span style="">	</span><span style="white-space: pre;">	</span>struct metal_io_ops<span style="">	</span>ops;        /**&lt; I/O region operations */</div><div>};</div></div></div></div></foreignObject><text x="32" y="1944" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct metal_io_region {...</text></switch></g><rect x="5" y="1225" width="230" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 1250px; margin-left: 6px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 26px;" color="#ff3333">rpmsg_virtio</font></div></div></div></foreignObject><text x="120" y="1254" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio</text></switch></g><path d="M 1280 815 L 1242.37 909.09" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1240.42 913.96 L 1239.77 906.16 L 1242.37 909.09 L 1246.26 908.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1280" y="785" width="260" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 815px; margin-left: 1281px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rproc_virtio_set_status()</font></div></div></div></foreignObject><text x="1410" y="819" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_set_status()</text></switch></g><path d="M 1280 900 L 1244.23 940.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1240.74 944.16 L 1242.78 936.61 L 1244.23 940.24 L 1248.01 941.26 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1280" y="870" width="260" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 900px; margin-left: 1281px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rproc_virtio_write_config()</font></div></div></div></foreignObject><text x="1410" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_write_config()</text></switch></g><path d="M 1280 975 L 1246.37 975" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1241.12 975 L 1248.12 971.5 L 1246.37 975 L 1248.12 978.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1280" y="945" width="260" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 975px; margin-left: 1281px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rproc_virtio_set_features()<br /></font></div><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">=</font></div><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);"><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rvdev</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">vdev</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">func</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">set_features</span></font><br /></div></div></div></div></foreignObject><text x="1410" y="979" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_set_features()...</text></switch></g><path d="M 1156.15 915 L 1201.62 885.45 Q 1210 880 1215.54 871.67 L 1345.46 676.33 Q 1351 668 1361 668 L 1414.63 668" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1419.88 668 L 1412.88 671.5 L 1414.63 668 L 1412.88 664.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="980" y="915" width="260" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 945px; margin-left: 981px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rpvdev-&gt;notify(rpvdev-&gt;priv, vdev-&gt;notifyid)</font></div></div></div></foreignObject><text x="1110" y="949" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rpvdev-&gt;notify(rpvdev-&gt;priv, vdev-&gt;notifyid)</text></switch></g><path d="M 1575 855 L 1544.19 819.79" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1540.74 815.84 L 1547.98 818.8 L 1544.19 819.79 L 1542.71 823.41 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1575" y="825" width="250" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 855px; margin-left: 1576px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rpmsg_virtio_set_status()<br /></font></div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">=</font></div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rvdev-&gt;vdev-&gt;func-&gt;set_status()</font></div></div></div></div></foreignObject><text x="1700" y="859" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_set_status()...</text></switch></g><path d="M 1575 1035 L 1543.21 980.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1540.56 975.97 L 1547.11 980.25 L 1543.21 980.5 L 1541.07 983.78 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1575" y="1005" width="290" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 1035px; margin-left: 1576px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rproc_virtio_negotiate_features()<br />=<br /><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rvdev</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">vdev</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">func</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">negotiate_features</span></font></div></div></div></foreignObject><text x="1720" y="1039" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_negotiate_features()...</text></switch></g><path d="M 2101 515 L 2106 515 Q 2111 515 2110.88 525 L 2109.07 678.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2109.01 683.88 L 2105.6 676.84 L 2109.07 678.63 L 2112.6 676.92 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1865.38 535.32 L 1865.01 998.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1865 1003.88 L 1861.51 996.88 L 1865.01 998.63 L 1868.51 996.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1760.8 535.08 L 1760.5 643.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1760.48 648.9 L 1757 641.89 L 1760.5 643.65 L 1764 641.91 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1681" y="495" width="420" height="40" rx="6" ry="6" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 515px; margin-left: 1682px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="background-color: rgb(30, 30, 30);"><span style="color: rgb(200, 200, 200);">rproc_virtio_create_vdev(</span><span style="color: rgb(200, 200, 200);">remoteproc_create_virtio</span><span style="color: rgb(200, 200, 200);">)</span></span></div></div></div></div></foreignObject><text x="1891" y="519" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_create_vdev(remoteproc_create_virtio)</text></switch></g><path d="M 1575 945 L 1543.91 905.03" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1540.69 900.88 L 1547.75 904.26 L 1543.91 905.03 L 1542.22 908.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1575" y="915" width="256" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 254px; height: 1px; padding-top: 945px; margin-left: 1576px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rpmsg_virtio_write_config()</font></div></div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">=</font></div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rvdev-&gt;vdev-&gt;func-&gt;write_config</font></div></div></div></div></foreignObject><text x="1703" y="949" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_write_config()...</text></switch></g><path d="M 1575 785 L 1546.37 785" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1541.12 785 L 1548.12 781.5 L 1546.37 785 L 1548.12 788.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1575" y="755" width="250" height="60" rx="9" ry="9" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 785px; margin-left: 1576px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">rproc_virtio_reset_device()</span></div></div></div></div></foreignObject><text x="1700" y="789" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_reset_device()</text></switch></g><path d="M 620.5 729.75 L 975.73 793.87" fill="none" stroke="#1e1e1e" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 980.9 794.8 L 973.39 797 L 975.73 793.87 L 974.63 790.11 Z" fill="#1e1e1e" stroke="#1e1e1e" stroke-miterlimit="10" pointer-events="all"/><rect x="230" y="544.5" width="390.5" height="247" fill="#ffff00" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 383px; height: 1px; padding-top: 535px; margin-left: 235px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 257px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1><font color="#c8c8c8" style="background-color: rgb(255, 255, 0);">IPI interrupt = PhytiumProcNotify</font></h1><div><span style="background-color: rgb(255, 255, 0);"><span style="color: rgb(200, 200, 200); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">PhytiumProcNotify</span> <font color="#c8c8c8" style="">接口函数表</font></span></div><div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);"><span style="color: #569cd6;">truct</span> <span style="color: #4ec9b0;">remoteproc_ops</span> <span style="color: #c8c8c8;">phytium_proc_ops</span> = {</span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">    .<span style="color: #dadada;">init</span> = <span style="color: #c8c8c8;">PhytiumProcInit</span>,</span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">    .<span style="color: #dadada;">remove</span> = <span style="color: #c8c8c8;">PhytiumProcRemove</span>,</span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">    .<span style="color: #dadada;">mmap</span> = <span style="color: #c8c8c8;">PhytiumProcMmap</span>,</span></div><div style=""><span style="background-color: rgb(255, 255, 0);"><font color="#d4d4d4">    </font><font color="#ff3333">.notify = PhytiumProcNotify,</font></span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">    .<span style="color: #dadada;">start</span> = <span style="color: #bd63c5;">NULL</span>,</span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">    .<span style="color: #dadada;">stop</span> = <span style="color: #bd63c5;">NULL</span>,</span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">    .<span style="color: #dadada;">shutdown</span> = <span style="color: #bd63c5;">NULL</span>,</span></div><div style="color: rgb(212, 212, 212);"><span style="background-color: rgb(255, 255, 0);">};</span></div></div></div></div></div></div></foreignObject><text x="235" y="547" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">IPI interrupt = PhytiumProcNotify...</text></switch></g><rect x="885" y="1170" width="280" height="129.5" fill="#ffff00" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 272px; height: 1px; padding-top: 1160px; margin-left: 890px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 140px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1><font style="background-color: rgb(255, 255, 0);">Call_back</font></h1><div><font style="background-color: rgb(255, 255, 0);"><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rpmsg_create_ept()创建过程中</span><br /></font></div><p><font style="background-color: rgb(255, 255, 0);"><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rpmsg_endpoint_cb </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">绑定以及</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">回调流程</span></font></p><p><span style="text-align: center; background-color: rgb(255, 255, 0);">platform_create_rpmsg_vdev(cb)绑定以及回调</span><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;"><br /></span></p></div></div></div></foreignObject><text x="890" y="1172" fill="#FF3333" font-family="Helvetica" font-size="12px">Call_back...</text></switch></g><path d="M 1060 1342 L 1073.63 1342" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1078.88 1342 L 1071.88 1345.5 L 1073.63 1342 L 1071.88 1338.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="900" y="1325" width="160" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1342px; margin-left: 901px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">rpmsg_create_ept(cb)</span></div></div></div></div></foreignObject><text x="980" y="1346" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_create_ept(cb)</text></switch></g><path d="M 1280 1342 L 1299.13 1342" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1304.38 1342 L 1297.38 1345.5 L 1299.13 1342 L 1297.38 1338.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1080" y="1325" width="200" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1342px; margin-left: 1081px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">rpmsg_initialize_ept(cb)</span></div></div></div></div></foreignObject><text x="1180" y="1346" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_initialize_ept(cb)</text></switch></g><rect x="1305.5" y="1325" width="229" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 227px; height: 1px; padding-top: 1342px; margin-left: 1307px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #7f7f7f;">ept</span>-&gt;<span style="color: #dadada;">cb = </span><span style="color: rgb(200, 200, 200);">rpmsg_endpoint_cb</span></div></div></div></div></div></foreignObject><text x="1420" y="1346" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">ept-&gt;cb = rpmsg_endpoint_cb</text></switch></g><path d="M 1420 1389 L 1420 1365.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1360.12 L 1423.5 1367.12 L 1420 1365.37 L 1416.5 1367.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1310" y="1389" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1406px; margin-left: 1311px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_virtio_rx_callback()</span></div></div></div></div></div></div></foreignObject><text x="1420" y="1410" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_rx_callback()</text></switch></g><path d="M 1420 1447 L 1420 1429.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1424.12 L 1423.5 1431.12 L 1420 1429.37 L 1416.5 1431.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1580 1472.5 L 1613.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1618.88 1472.5 L 1611.88 1476 L 1613.63 1472.5 L 1611.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1260" y="1447" width="320" height="51" rx="7.65" ry="7.65" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 1472px; margin-left: 1261px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200);">callback</span><font color="#d4d4d4">[</font><font color="#b5cea8">i</font><font color="#d4d4d4">] = </font><span style="color: rgb(200, 200, 200);">rpmsg_virtio_rx_callback</span><span style="color: #c8c8c8;"><br /></span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">callback[i] = rpmsg_virtio_rx_callback...</text></switch></g><path d="M 1420 1524 L 1420 1504.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1499.12 L 1423.5 1506.12 L 1420 1504.37 L 1416.5 1506.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1345" y="1524" width="150" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1541px; margin-left: 1346px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_init_vdev()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1545" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_init_vdev()</text></switch></g><rect x="1910" y="1279" width="370" height="110" rx="16.5" ry="16.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 1334px; margin-left: 1911px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">struct virtqueue</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">{</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><div style="line-height: 19px;"><div><span style="color: #569cd6;">    void</span> (*<span style="color: #dadada;">callback</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</div><div>    <span style="color: #569cd6;">void</span> (*<span style="color: #dadada;">notify</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</div></div></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">}</span></div></div></div></div></div></div></div></div></foreignObject><text x="2095" y="1338" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">struct virtqueue...</text></switch></g><path d="M 2149 1580 L 2173.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2178.88 1580 L 2171.88 1583.5 L 2173.63 1580 L 2171.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1979" y="1563" width="170" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1580px; margin-left: 1980px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rproc_virtio_notified</span></div></div></div></div></div></div></div></div></foreignObject><text x="2064" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_notified</text></switch></g><path d="M 1946 1580 L 1972.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1977.88 1580 L 1970.88 1583.5 L 1972.63 1580 L 1970.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1711" y="1563" width="235" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 233px; height: 1px; padding-top: 1580px; margin-left: 1712px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">remoteproc_get_notification()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1829" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_get_notification()</text></switch></g><path d="M 1680 1580 L 1704.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1709.88 1580 L 1702.88 1583.5 L 1704.63 1580 L 1702.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1550" y="1563" width="130" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1580px; margin-left: 1551px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">platform_poll()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1615" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_poll()</text></switch></g><path d="M 2240 1455.5 L 1536.35 1406.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1531.12 1406.08 L 1538.34 1403.07 L 1536.35 1406.44 L 1537.85 1410.06 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2190" y="1455.5" width="200" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1473px; margin-left: 2191px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">vq</span>-&gt;<span style="color: #dadada;">callback</span> = <span style="color: #7f7f7f;">callback</span></div></div></div></div></div></div></div></div></foreignObject><text x="2290" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback = callback</text></switch></g><path d="M 2160 1472.5 L 2183.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2188.88 1472.5 L 2181.88 1476 L 2183.63 1472.5 L 2181.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1940" y="1455.5" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1473px; margin-left: 1941px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_create(callbacks</span><span style="color: rgb(200, 200, 200);">)</span></div></div></div></div></div></div></div></div></foreignObject><text x="2050" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_create(callbacks)</text></switch></g><path d="M 1900 1472.5 L 1933.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1938.88 1472.5 L 1931.88 1476 L 1933.63 1472.5 L 1931.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1620" y="1455.5" width="280" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1473px; margin-left: 1621px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1760" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtio_create_virtqueues(callbacks)</text></switch></g><rect x="2145" y="1468" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1483px; margin-left: 2146px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="2175" y="1487" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><path d="M 1039.77 378 L 1039.57 392.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1039.5 397.93 L 1036.09 390.88 L 1039.57 392.68 L 1043.09 390.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="965" y="344" width="150" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 361px; margin-left: 966px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">PhytiumProcInit()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1040" y="365" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">PhytiumProcInit()</text></switch></g><path d="M 925 361 L 958.63 361" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 963.88 361 L 956.88 364.5 L 958.63 361 L 956.88 357.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="635" y="344" width="290" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 361px; margin-left: 636px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">rproc</span> = <span style="color: #7f7f7f;">ops</span>-&gt;<span style="color: #dadada;">init</span>(<span style="color: #7f7f7f;">rproc</span>, <span style="color: #7f7f7f;">ops</span>, <span style="color: #7f7f7f;">priv</span>)</div></div></div></div></div></div></div></div></foreignObject><text x="780" y="365" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc = ops-&gt;init(rproc, ops, priv)</text></switch></g><path d="M 595 361 L 628.63 361" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 633.88 361 L 626.88 364.5 L 628.63 361 L 626.88 357.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="316" y="344" width="279" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 277px; height: 1px; padding-top: 361px; margin-left: 317px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">remoteproc_init(</span><span style="">&amp;</span><span style="color: rgb(200, 200, 200);">phytium_proc_ops</span><span style="color: rgb(200, 200, 200);">)</span></div></div></div></div></div></div></div></div></foreignObject><text x="456" y="365" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_init(&amp;phytium_proc_ops)</text></switch></g><path d="M 275 361 L 309.63 361" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 314.88 361 L 307.88 364.5 L 309.63 361 L 307.88 357.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="85" y="344" width="190" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 361px; margin-left: 86px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">platform_create_proc()</span></div></div></div></div></div></div></div></div></foreignObject><text x="180" y="365" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_create_proc()</text></switch></g><path d="M 2290.34 1509 L 2290.22 1495.87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.17 1490.62 L 2293.73 1497.58 L 2290.22 1495.87 L 2286.73 1497.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2218" y="1509" width="145" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1526px; margin-left: 2219px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">vq</span>-&gt;<span style="color: #dadada;">callback</span>(<span style="color: #7f7f7f;">vq</span>);</div></div></div></div></div></div></div></div></foreignObject><text x="2291" y="1530" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback(vq);</text></switch></g><path d="M 2290.16 1563 L 2290.28 1549.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.33 1544.12 L 2293.77 1551.15 L 2290.28 1549.37 L 2286.77 1551.09 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2180" y="1563" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1580px; margin-left: 2181px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_notification</span>(<span style="color: #c8c8c8;">vq</span>)</div></div></div></div></foreignObject><text x="2290" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_notification(vq)</text></switch></g><rect x="2133" y="1553" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1568px; margin-left: 2134px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="2163" y="1572" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="2280" y="1538" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1553px; margin-left: 2281px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="2310" y="1557" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="2280" y="1484" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1499px; margin-left: 2281px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="2310" y="1503" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1040" y="1349" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1364px; margin-left: 1041px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1070" y="1368" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><path d="M 1563.68 650.32 L 1563.33 620.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1563.26 615.12 L 1566.85 622.08 L 1563.33 620.37 L 1559.85 622.16 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1421" y="651" width="410" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 668px; margin-left: 1422px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="background-color: rgb(30, 30, 30);"><span style="color: rgb(200, 200, 200);">rpvdev</span>-&gt;<span style="color: rgb(218, 218, 218);">notify</span> = <span style="color: rgb(127, 127, 127);">notify;//</span><span style="color: rgb(200, 200, 200);">remoteproc_virtio_notify</span></span></div></div></div></div></div></div></div></div></foreignObject><text x="1626" y="672" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpvdev-&gt;notify = notify;//remoteproc_virtio_notify</text></switch></g><path d="M 1591 515 L 1674.63 515" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1679.88 515 L 1672.88 518.5 L 1674.63 515 L 1672.88 511.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1251" y="470" width="340" height="90" rx="13.5" ry="13.5" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 515px; margin-left: 1252px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">remoteproc_create_virtio()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1421" y="519" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_create_virtio()</text></switch></g><path d="M 2109.25 719 L 2109.57 740.07" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2109.64 745.32 L 2106.04 738.37 L 2109.57 740.07 L 2113.04 738.27 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1924" y="685" width="370" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 702px; margin-left: 1925px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);"><span style="text-align: center;">vdev</span><span style="text-align: center;">-&gt;</span><span style="text-align: center;">func</span><span style="text-align: center;"> = &amp;</span><span style="text-align: center;">remoteproc_virtio_dispatch_funcs</span></font><br /></div></div></div></div></div></div></div></foreignObject><text x="2109" y="706" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vdev-&gt;func = &amp;remoteproc_virtio_dispatch_funcs
</text></switch></g><path d="M 745 417 L 631.37 417" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 626.12 417 L 633.12 413.5 L 631.37 417 L 633.12 420.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="745" y="400" width="360" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 358px; height: 1px; padding-top: 417px; margin-left: 746px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">rproc</span>-&gt;<span style="color: #dadada;">ops</span> = <span style="color: #7f7f7f;">ops;//&amp;</span><span style="color: rgb(200, 200, 200);">phytium_proc_ops</span></div></div></div></div></div></div></div></div></foreignObject><text x="925" y="421" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc-&gt;ops = ops;//&amp;phytium_proc_ops</text></switch></g><rect x="200" y="404" width="210" height="30" fill="#ffff00" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 419px; margin-left: 201px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#ff0000">接口函数绑定过程</font></div></div></div></foreignObject><text x="305" y="423" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">接口函数绑定过程</text></switch></g><rect x="982" y="745" width="241" height="100" fill="#ffff00" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 239px; height: 1px; padding-top: 795px; margin-left: 983px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#ff0000" style="background-color: rgb(255, 255, 0);">.notify = PhytiumProcNotify</font></div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#ff0000" style="background-color: rgb(255, 255, 0);">负责发送中断信号进行通知</font></div></div></div></div></foreignObject><text x="1103" y="799" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">.notify = PhytiumProcNotify...</text></switch></g><rect x="1891" y="745" width="580" height="360" rx="10.8" ry="10.8" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 578px; height: 1px; padding-top: 925px; margin-left: 1893px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div><span style="color: #569cd6;">static</span> <span style="color: #569cd6;">const</span> <span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtio_dispatch</span> <span style="color: #c8c8c8;">remoteproc_virtio_dispatch_funcs</span> = {</div><div>    .<span style="color: #dadada;">get_status</span> = <span style="color: #c8c8c8;">rproc_virtio_get_status</span>,</div><div>    .<span style="color: #dadada;">get_features</span> = <span style="color: #c8c8c8;">rproc_virtio_get_features</span>,</div><div>    .<span style="color: #dadada;">read_config</span> = <span style="color: #c8c8c8;">rproc_virtio_read_config</span>,</div><div>    .<span style="color: #dadada;">notify</span> = <span style="color: #c8c8c8;">rproc_virtio_virtqueue_notify</span>,</div><div><span style="color: #9b9b9b;">#ifndef</span><span style="color: #569cd6;"> </span><span style="color: #bd63c5;">VIRTIO_SLAVE_ONLY</span></div><div><span style="color: #6a9955;">    /*</span></div><div><span style="color: #6a9955;">     * We suppose here that the vdev is in a shared memory so that can</span></div><div><span style="color: #6a9955;">     * be access only by one core: the master. In this case salve core has</span></div><div><span style="color: #6a9955;">     * only read access right.</span></div><div><span style="color: #6a9955;">     */</span></div><div>    .<span style="color: #dadada;">set_status</span> = <span style="color: #c8c8c8;">rproc_virtio_set_status</span>,</div><div>    .<span style="color: #dadada;">set_features</span> = <span style="color: #c8c8c8;">rproc_virtio_set_features</span>,</div><div>    .<span style="color: #dadada;">negotiate_features</span> = <span style="color: #c8c8c8;">rproc_virtio_negotiate_features</span>,</div><div>    .<span style="color: #dadada;">write_config</span> = <span style="color: #c8c8c8;">rproc_virtio_write_config</span>,</div><div>    .<span style="color: #dadada;">reset_device</span> = <span style="color: #c8c8c8;">rproc_virtio_reset_device</span>,</div><div><span style="color: #9b9b9b;">#endif</span></div><div>}</div></div></div></div></div></foreignObject><text x="1893" y="929" fill="#FFFFFF" font-family="Helvetica" font-size="12px">static const struct virtio_dispatch remoteproc_virtio_dispatch_funcs = {...</text></switch></g><path d="M 1425.5 597 L 1397.37 597.41" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1392.12 597.48 L 1399.07 593.88 L 1397.37 597.41 L 1399.17 600.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1425.5" y="580" width="275.5" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 274px; height: 1px; padding-top: 597px; margin-left: 1427px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">remoteproc_virtio_notify()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1563" y="601" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_virtio_notify()</text></switch></g><rect x="1751" y="605" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 620px; margin-left: 1752px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="1781" y="624" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><rect x="1851" y="625" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 640px; margin-left: 1852px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#ff3333">仅master调用</font></div></div></div></foreignObject><text x="1881" y="644" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">仅master调用</text></switch></g><rect x="2108" y="595" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 610px; margin-left: 2109px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="2138" y="614" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><rect x="1607" y="515" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 530px; margin-left: 1608px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1637" y="534" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><path d="M 955 511.62 L 1244.63 514.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1249.88 514.99 L 1242.84 518.41 L 1244.63 514.93 L 1242.92 511.41 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 670 509.74 L 261.37 509.01" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 256.12 509 L 263.12 505.51 L 261.37 509.01 L 263.11 512.51 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="670" y="455" width="285" height="110" fill="#ffff00" stroke="#ff0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 283px; height: 1px; padding-top: 510px; margin-left: 671px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 50px; background-color: rgb(255, 255, 0);" color="#ff0000">初始化调用</font></div></div></div></foreignObject><text x="813" y="514" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">初始化调用</text></switch></g><path d="M 180 492 L 180 384.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 180 379.12 L 183.5 386.12 L 180 384.37 L 176.5 386.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="105" y="492" width="150" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 509px; margin-left: 106px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">platform_init()</span></div></div></div></div></div></div></div></div></foreignObject><text x="180" y="513" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_init()</text></switch></g><rect x="265" y="334" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 349px; margin-left: 266px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="295" y="353" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="175" y="450" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 465px; margin-left: 176px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="205" y="469" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1130" y="480" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 495px; margin-left: 1131px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1160" y="499" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="600" y="485" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 500px; margin-left: 601px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="630" y="504" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="915" y="334" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 349px; margin-left: 916px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="945" y="353" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="585" y="334" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 349px; margin-left: 586px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="615" y="353" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1045" y="372" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 387px; margin-left: 1046px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="1075" y="391" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><rect x="585" y="364" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 379px; margin-left: 586px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">传递</font></div></div></div></foreignObject><text x="615" y="383" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">传递</text></switch></g><rect x="445" y="402" width="180" height="30" fill="#1e1e1e" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 417px; margin-left: 446px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(200, 200, 200); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: start; background-color: rgb(30, 30, 30);">phytium_proc_ops</span></div></div></div></foreignObject><text x="535" y="421" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">phytium_proc_ops</text></switch></g><path d="M 1211 596.82 L 632.73 592.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 627.48 592.43 L 634.5 588.98 L 632.73 592.47 L 634.45 595.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1211" y="580" width="180" height="35" rx="5.25" ry="5.25" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 598px; margin-left: 1212px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);"><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: start;">rproc</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: start;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: start;">ops</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: start;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: start;">notify()</span></font></div></div></div></foreignObject><text x="1301" y="601" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc-&gt;ops-&gt;notify()</text></switch></g><rect x="1380" y="595" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 610px; margin-left: 1381px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1410" y="614" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1551" y="621" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 636px; margin-left: 1552px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1581" y="640" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1235" y="755" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 770px; margin-left: 1236px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1265" y="774" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><path d="M 1280 1342 L 1299.13 1342" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1304.38 1342 L 1297.38 1345.5 L 1299.13 1342 L 1297.38 1338.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1305.5" y="1325" width="229" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 227px; height: 1px; padding-top: 1342px; margin-left: 1307px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #7f7f7f;">ept</span>-&gt;<span style="color: #dadada;">cb = </span><span style="color: rgb(200, 200, 200);">rpmsg_endpoint_cb</span></div></div></div></div></div></foreignObject><text x="1420" y="1346" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">ept-&gt;cb = rpmsg_endpoint_cb</text></switch></g><path d="M 1420 1389 L 1420 1365.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1360.12 L 1423.5 1367.12 L 1420 1365.37 L 1416.5 1367.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1310" y="1389" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1406px; margin-left: 1311px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_virtio_rx_callback()</span></div></div></div></div></div></div></foreignObject><text x="1420" y="1410" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_rx_callback()</text></switch></g><path d="M 1420 1447 L 1420 1429.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1424.12 L 1423.5 1431.12 L 1420 1429.37 L 1416.5 1431.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1580 1472.5 L 1613.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1618.88 1472.5 L 1611.88 1476 L 1613.63 1472.5 L 1611.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1260" y="1447" width="320" height="51" rx="7.65" ry="7.65" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 1472px; margin-left: 1261px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200);">callback</span><font color="#d4d4d4">[</font><font color="#b5cea8">i</font><font color="#d4d4d4">] = </font><span style="color: rgb(200, 200, 200);">rpmsg_virtio_rx_callback</span><span style="color: #c8c8c8;"><br /></span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">callback[i] = rpmsg_virtio_rx_callback...</text></switch></g><path d="M 1420 1524 L 1420 1504.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1499.12 L 1423.5 1506.12 L 1420 1504.37 L 1416.5 1506.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1345" y="1524" width="150" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1541px; margin-left: 1346px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_init_vdev()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1545" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_init_vdev()</text></switch></g><rect x="1910" y="1279" width="370" height="110" rx="16.5" ry="16.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 1334px; margin-left: 1911px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">struct virtqueue</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">{</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><div style="line-height: 19px;"><div><span style="color: #569cd6;">    void</span> (*<span style="color: #dadada;">callback</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</div><div>    <span style="color: #569cd6;">void</span> (*<span style="color: #dadada;">notify</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</div></div></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">}</span></div></div></div></div></div></div></div></div></foreignObject><text x="2095" y="1338" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">struct virtqueue...</text></switch></g><path d="M 2149 1580 L 2173.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2178.88 1580 L 2171.88 1583.5 L 2173.63 1580 L 2171.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1979" y="1563" width="170" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1580px; margin-left: 1980px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rproc_virtio_notified</span></div></div></div></div></div></div></div></div></foreignObject><text x="2064" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_notified</text></switch></g><path d="M 1946 1580 L 1972.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1977.88 1580 L 1970.88 1583.5 L 1972.63 1580 L 1970.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1711" y="1563" width="235" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 233px; height: 1px; padding-top: 1580px; margin-left: 1712px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">remoteproc_get_notification()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1829" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_get_notification()</text></switch></g><path d="M 1680 1580 L 1704.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1709.88 1580 L 1702.88 1583.5 L 1704.63 1580 L 1702.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1550" y="1563" width="130" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1580px; margin-left: 1551px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">platform_poll()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1615" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_poll()</text></switch></g><path d="M 2240 1455.5 L 1536.35 1406.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1531.12 1406.08 L 1538.34 1403.07 L 1536.35 1406.44 L 1537.85 1410.06 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2190" y="1455.5" width="200" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1473px; margin-left: 2191px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">vq</span>-&gt;<span style="color: #dadada;">callback</span> = <span style="color: #7f7f7f;">callback</span></div></div></div></div></div></div></div></div></foreignObject><text x="2290" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback = callback</text></switch></g><path d="M 2160 1472.5 L 2183.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2188.88 1472.5 L 2181.88 1476 L 2183.63 1472.5 L 2181.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1940" y="1455.5" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1473px; margin-left: 1941px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_create(callbacks</span><span style="color: rgb(200, 200, 200);">)</span></div></div></div></div></div></div></div></div></foreignObject><text x="2050" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_create(callbacks)</text></switch></g><path d="M 1900 1472.5 L 1933.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1938.88 1472.5 L 1931.88 1476 L 1933.63 1472.5 L 1931.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1620" y="1455.5" width="280" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1473px; margin-left: 1621px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1760" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtio_create_virtqueues(callbacks)</text></switch></g><path d="M 2290.34 1509 L 2290.22 1495.87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.17 1490.62 L 2293.73 1497.58 L 2290.22 1495.87 L 2286.73 1497.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2218" y="1509" width="145" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1526px; margin-left: 2219px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">vq</span>-&gt;<span style="color: #dadada;">callback</span>(<span style="color: #7f7f7f;">vq</span>);</div></div></div></div></div></div></div></div></foreignObject><text x="2291" y="1530" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback(vq);</text></switch></g><path d="M 2290.16 1563 L 2290.28 1549.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.33 1544.12 L 2293.77 1551.15 L 2290.28 1549.37 L 2286.77 1551.09 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2180" y="1563" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1580px; margin-left: 2181px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_notification</span>(<span style="color: #c8c8c8;">vq</span>)</div></div></div></div></foreignObject><text x="2290" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_notification(vq)</text></switch></g><rect x="1930" y="1548.75" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1564px; margin-left: 1931px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1960" y="1567" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><path d="M 1280 1342 L 1299.13 1342" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1304.38 1342 L 1297.38 1345.5 L 1299.13 1342 L 1297.38 1338.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1305.5" y="1325" width="229" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 227px; height: 1px; padding-top: 1342px; margin-left: 1307px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #7f7f7f;">ept</span>-&gt;<span style="color: #dadada;">cb = </span><span style="color: rgb(200, 200, 200);">rpmsg_endpoint_cb</span></div></div></div></div></div></foreignObject><text x="1420" y="1346" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">ept-&gt;cb = rpmsg_endpoint_cb</text></switch></g><path d="M 1420 1389 L 1420 1365.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1360.12 L 1423.5 1367.12 L 1420 1365.37 L 1416.5 1367.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1310" y="1389" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1406px; margin-left: 1311px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_virtio_rx_callback()</span></div></div></div></div></div></div></foreignObject><text x="1420" y="1410" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_rx_callback()</text></switch></g><path d="M 1420 1447 L 1420 1429.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1424.12 L 1423.5 1431.12 L 1420 1429.37 L 1416.5 1431.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1580 1472.5 L 1613.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1618.88 1472.5 L 1611.88 1476 L 1613.63 1472.5 L 1611.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1260" y="1447" width="320" height="51" rx="7.65" ry="7.65" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 1472px; margin-left: 1261px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200);">callback</span><font color="#d4d4d4">[</font><font color="#b5cea8">i</font><font color="#d4d4d4">] = </font><span style="color: rgb(200, 200, 200);">rpmsg_virtio_rx_callback</span><span style="color: #c8c8c8;"><br /></span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">callback[i] = rpmsg_virtio_rx_callback...</text></switch></g><path d="M 1420 1524 L 1420 1504.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1499.12 L 1423.5 1506.12 L 1420 1504.37 L 1416.5 1506.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1345" y="1524" width="150" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1541px; margin-left: 1346px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rpmsg_init_vdev()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1545" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_init_vdev()</text></switch></g><rect x="1910" y="1279" width="370" height="110" rx="16.5" ry="16.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 1334px; margin-left: 1911px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">struct virtqueue</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">{</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><div style="line-height: 19px;"><div><span style="color: #569cd6;">    void</span> (*<span style="color: #dadada;">callback</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</div><div>    <span style="color: #569cd6;">void</span> (*<span style="color: #dadada;">notify</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</div></div></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #4ec9b0;">}</span></div></div></div></div></div></div></div></div></foreignObject><text x="2095" y="1338" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">struct virtqueue...</text></switch></g><path d="M 2149 1580 L 2173.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2178.88 1580 L 2171.88 1583.5 L 2173.63 1580 L 2171.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1979" y="1563" width="170" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1580px; margin-left: 1980px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">rproc_virtio_notified</span></div></div></div></div></div></div></div></div></foreignObject><text x="2064" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_notified</text></switch></g><path d="M 1946 1580 L 1972.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1977.88 1580 L 1970.88 1583.5 L 1972.63 1580 L 1970.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1711" y="1563" width="235" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 233px; height: 1px; padding-top: 1580px; margin-left: 1712px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">remoteproc_get_notification()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1829" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_get_notification()</text></switch></g><path d="M 1680 1580 L 1704.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1709.88 1580 L 1702.88 1583.5 L 1704.63 1580 L 1702.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1550" y="1563" width="130" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1580px; margin-left: 1551px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">platform_poll()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1615" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_poll()</text></switch></g><path d="M 2240 1455.5 L 1536.35 1406.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1531.12 1406.08 L 1538.34 1403.07 L 1536.35 1406.44 L 1537.85 1410.06 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2190" y="1455.5" width="200" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1473px; margin-left: 2191px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">vq</span>-&gt;<span style="color: #dadada;">callback</span> = <span style="color: #7f7f7f;">callback</span></div></div></div></div></div></div></div></div></foreignObject><text x="2290" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback = callback</text></switch></g><path d="M 2160 1472.5 L 2183.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2188.88 1472.5 L 2181.88 1476 L 2183.63 1472.5 L 2181.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1940" y="1455.5" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1473px; margin-left: 1941px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_create(callbacks</span><span style="color: rgb(200, 200, 200);">)</span></div></div></div></div></div></div></div></div></foreignObject><text x="2050" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_create(callbacks)</text></switch></g><path d="M 1900 1472.5 L 1933.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1938.88 1472.5 L 1931.88 1476 L 1933.63 1472.5 L 1931.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1620" y="1455.5" width="280" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1473px; margin-left: 1621px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #c8c8c8;">virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1760" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtio_create_virtqueues(callbacks)</text></switch></g><path d="M 2290.34 1509 L 2290.22 1495.87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.17 1490.62 L 2293.73 1497.58 L 2290.22 1495.87 L 2286.73 1497.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2218" y="1509" width="145" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1526px; margin-left: 2219px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: #7f7f7f;">vq</span>-&gt;<span style="color: #dadada;">callback</span>(<span style="color: #7f7f7f;">vq</span>);</div></div></div></div></div></div></div></div></foreignObject><text x="2291" y="1530" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback(vq);</text></switch></g><path d="M 2290.16 1563 L 2290.28 1549.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.33 1544.12 L 2293.77 1551.15 L 2290.28 1549.37 L 2286.77 1551.09 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2180" y="1563" width="220" height="34" rx="5.1" ry="5.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1580px; margin-left: 2181px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_notification</span>(<span style="color: #c8c8c8;">vq</span>)</div></div></div></div></foreignObject><text x="2290" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_notification(vq)</text></switch></g><path d="M 1280 1342 L 1299.13 1342" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1304.38 1342 L 1297.38 1345.5 L 1299.13 1342 L 1297.38 1338.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1420 1325 L 1171 1236.87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1166.05 1235.12 L 1173.82 1234.16 L 1171 1236.87 L 1171.49 1240.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1305.5" y="1325" width="229" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 227px; height: 1px; padding-top: 1342px; margin-left: 1307px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #7f7f7f;">ept</span>-&gt;<span style="color: #dadada;">cb = </span><span style="color: rgb(200, 200, 200);">rpmsg_endpoint_cb()</span></div></div></div></div></div></foreignObject><text x="1420" y="1346" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">ept-&gt;cb = rpmsg_endpoint_cb()</text></switch></g><path d="M 1420 1389 L 1420 1365.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1360.12 L 1423.5 1367.12 L 1420 1365.37 L 1416.5 1367.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1530 1389 L 1630.87 1360.72" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1635.92 1359.3 L 1630.13 1364.56 L 1630.87 1360.72 L 1628.24 1357.82 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1310 1406 L 1221.37 1406" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1216.12 1406 L 1223.12 1402.5 L 1221.37 1406 L 1223.12 1409.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1310" y="1389" width="220" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1406px; margin-left: 1311px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">rpmsg_virtio_rx_callback()</span></div></div></div></div></div></div></foreignObject><text x="1420" y="1410" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_rx_callback()</text></switch></g><path d="M 1420 1447 L 1420 1429.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1424.12 L 1423.5 1431.12 L 1420 1429.37 L 1416.5 1431.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1580 1472.5 L 1613.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1618.88 1472.5 L 1611.88 1476 L 1613.63 1472.5 L 1611.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1260" y="1447" width="320" height="51" rx="7.65" ry="7.65" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 1472px; margin-left: 1261px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">callback<font style="">[</font><font style="">i</font><font style="">] = </font>rpmsg_virtio_rx_callback<br /></font></div><div style="line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rpmsg_virtio_create_virtqueues(callbacks)</font></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">callback[i] = rpmsg_virtio_rx_callback...</text></switch></g><path d="M 1420 1524 L 1420 1504.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1420 1499.12 L 1423.5 1506.12 L 1420 1504.37 L 1416.5 1506.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1345" y="1524" width="150" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1541px; margin-left: 1346px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">rpmsg_init_vdev()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1420" y="1545" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_init_vdev()</text></switch></g><rect x="1910" y="1279" width="370" height="110" rx="16.5" ry="16.5" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 1334px; margin-left: 1911px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(78, 201, 176); background-color: rgb(30, 30, 30);">struct virtqueue</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(78, 201, 176); background-color: rgb(30, 30, 30);">{</span></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><div style="line-height: 19px;"><div><span style="background-color: rgb(30, 30, 30);"><span style="color: #569cd6;">    void</span> (*<span style="color: #dadada;">callback</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</span></div><div><span style="background-color: rgb(30, 30, 30);">    <span style="color: #569cd6;">void</span> (*<span style="color: #dadada;">notify</span>)(<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">virtqueue</span> *vq);</span></div></div></div><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(78, 201, 176); background-color: rgb(30, 30, 30);">}</span></div></div></div></div></div></div></div></div></foreignObject><text x="2095" y="1338" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">struct virtqueue...</text></switch></g><path d="M 2149 1580 L 2173.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2178.88 1580 L 2171.88 1583.5 L 2173.63 1580 L 2171.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1979" y="1563" width="170" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1580px; margin-left: 1980px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">rproc_virtio_notified</span></div></div></div></div></div></div></div></div></foreignObject><text x="2064" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_notified</text></switch></g><path d="M 1946 1580 L 1972.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1977.88 1580 L 1970.88 1583.5 L 1972.63 1580 L 1970.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1711" y="1563" width="235" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 233px; height: 1px; padding-top: 1580px; margin-left: 1712px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">remoteproc_get_notification()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1829" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">remoteproc_get_notification()</text></switch></g><path d="M 1680 1580 L 1704.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1709.88 1580 L 1702.88 1583.5 L 1704.63 1580 L 1702.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1550" y="1563" width="130" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1580px; margin-left: 1551px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">platform_poll()</span></div></div></div></div></div></div></div></div></foreignObject><text x="1615" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_poll()</text></switch></g><path d="M 2240 1455.5 L 1536.35 1406.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1531.12 1406.08 L 1538.34 1403.07 L 1536.35 1406.44 L 1537.85 1410.06 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2190" y="1455.5" width="200" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1473px; margin-left: 2191px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="background-color: rgb(30, 30, 30);"><span style="color: rgb(127, 127, 127);">vq</span>-&gt;<span style="color: rgb(218, 218, 218);">callback</span> = <span style="color: rgb(127, 127, 127);">callback</span></span></div></div></div></div></div></div></div></div></foreignObject><text x="2290" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback = callback</text></switch></g><path d="M 2160 1472.5 L 2183.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2188.88 1472.5 L 2181.88 1476 L 2183.63 1472.5 L 2181.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1940" y="1455.5" width="220" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1473px; margin-left: 1941px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="background-color: rgb(30, 30, 30);"><span style="color: rgb(200, 200, 200);">virtqueue_create(callbacks</span><span style="color: rgb(200, 200, 200);">)</span></span></div></div></div></div></div></div></div></div></foreignObject><text x="2050" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_create(callbacks)</text></switch></g><path d="M 1900 1472.5 L 1933.63 1472.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1938.88 1472.5 L 1931.88 1476 L 1933.63 1472.5 L 1931.88 1469 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1620" y="1455.5" width="280" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1473px; margin-left: 1621px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">virtio_create_virtqueues(callbacks)</span></div></div></div></div></div></div></div></div></foreignObject><text x="1760" y="1476" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtio_create_virtqueues(callbacks)</text></switch></g><rect x="1411" y="1359" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1374px; margin-left: 1412px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1441" y="1378" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1411" y="1421" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1436px; margin-left: 1412px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="1441" y="1440" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><rect x="1411" y="1498" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1513px; margin-left: 1412px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1441" y="1517" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1570" y="1479" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1494px; margin-left: 1571px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">传递</font></div></div></div></foreignObject><text x="1600" y="1498" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">传递</text></switch></g><rect x="1891" y="1479" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1494px; margin-left: 1892px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">传递</font></div></div></div></foreignObject><text x="1921" y="1498" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">传递</text></switch></g><path d="M 2290.34 1509 L 2290.22 1495.87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.17 1490.62 L 2293.73 1497.58 L 2290.22 1495.87 L 2286.73 1497.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2218" y="1509" width="145" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1526px; margin-left: 2219px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: start; line-height: 19px;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><div style="line-height: 19px;"><div style="line-height: 19px;"><div style="color: rgb(212, 212, 212); line-height: 19px;"><span style="background-color: rgb(30, 30, 30);"><span style="color: rgb(127, 127, 127);">vq</span>-&gt;<span style="color: rgb(218, 218, 218);">callback</span>(<span style="color: rgb(127, 127, 127);">vq</span>);</span></div></div></div></div></div></div></div></div></foreignObject><text x="2291" y="1530" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">vq-&gt;callback(vq);</text></switch></g><path d="M 2290.16 1563 L 2290.28 1549.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2290.33 1544.12 L 2293.77 1551.15 L 2290.28 1549.37 L 2286.77 1551.09 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2180" y="1563" width="220" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1580px; margin-left: 2181px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_notification</span>(<span style="color: #c8c8c8;">vq</span>)</div></div></div></div></foreignObject><text x="2290" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_notification(vq)</text></switch></g><rect x="1666" y="1548.75" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1564px; margin-left: 1667px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1696" y="1567" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1840" y="1407" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1422px; margin-left: 1841px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1870" y="1426" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1260" y="1349" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1364px; margin-left: 1261px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="1290" y="1368" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><rect x="985" y="565" width="170" height="30" fill="#ffff00" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 580px; margin-left: 986px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(255, 51, 51); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; text-align: left; background-color: rgb(255, 255, 0);">PhytiumProcNotify</span></div></div></div></foreignObject><text x="1070" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">PhytiumProcNotify</text></switch></g><rect x="1000" y="595" width="140" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 610px; margin-left: 1001px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">发送中断通知</font></div></div></div></foreignObject><text x="1070" y="614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">发送中断通知</text></switch></g><rect x="414" y="11" width="150" height="30" fill="#1e1e1e" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 26px; margin-left: 415px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 24px; background-color: rgb(30, 30, 30);" color="#c8c8c8">资源表</font></div></div></div></foreignObject><text x="489" y="30" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">资源表</text></switch></g><path d="M 760 170 L 838.63 170" fill="none" stroke="#1e1e1e" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 843.88 170 L 836.88 173.5 L 838.63 170 L 836.88 166.5 Z" fill="#1e1e1e" stroke="#1e1e1e" stroke-miterlimit="10" pointer-events="all"/><rect x="435" y="50" width="325" height="240" rx="36" ry="36" fill="#1e1e1e" stroke="#333333" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 323px; height: 1px; padding-top: 170px; margin-left: 437px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; line-height: 19px;"><div><span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">remote_resource_table</span> {</div><div>    <span style="color: #569cd6;">unsigned</span> <span style="color: #569cd6;">int</span> <span style="color: #dadada;">version</span>;</div><div>    <span style="color: #569cd6;">unsigned</span> <span style="color: #569cd6;">int</span> <span style="color: #dadada;">num</span>;</div><div>    <span style="color: #569cd6;">unsigned</span> <span style="color: #569cd6;">int</span> <span style="color: #dadada;">reserved</span>[<span style="color: #b5cea8;">2</span>];</div><div>    <span style="color: #569cd6;">unsigned</span> <span style="color: #569cd6;">int</span> <span style="color: #dadada;">offset</span>[<span style="color: #bd63c5;">NO_RESOURCE_ENTRIES</span>];</div><div><span style="color: #6a9955;">    /* rpmsg vdev entry */</span></div><div>    <span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">fw_rsc_vdev</span> <span style="color: #dadada;">rpmsg_vdev</span>;</div><div>    <span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">fw_rsc_vdev_vring</span> <span style="color: #dadada;">rpmsg_vring0</span>;</div><div>    <span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">fw_rsc_vdev_vring</span> <span style="color: #dadada;">rpmsg_vring1</span>;</div><div>}<span style="color: #c8c8c8;">__attribute__</span>((packed, <span style="color: #c8c8c8;">aligned</span>(<span style="color: #b5cea8;">0x100</span>)));</div></div></div></div></div></foreignObject><text x="437" y="177" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="24px">struct remote_resource_tabl...</text></switch></g><rect x="845" y="20" width="730" height="300" rx="21" ry="21" fill="#1e1e1e" stroke="#1e1e1e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 728px; height: 1px; padding-top: 170px; margin-left: 847px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; line-height: 19px;"><div style="font-size: 14px; line-height: 19px;"><div><span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">remote_resource_table</span> <span style="color: #bd63c5;">__resource</span> <span style="color: #c8c8c8;">resources</span> = {</div><div>    <span style="color: #b5cea8;">1</span>,<span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	<span style="white-space: pre;">	</span><span style="white-space: pre;">	</span></span><span style="color: rgb(106, 153, 85);">/* Version */</span></div><div>    <span style="color: #bd63c5;">NUM_TABLE_ENTRIES</span>,<span style="white-space: pre;">	<span style="white-space: pre;">	</span><span style="white-space: pre;">	</span></span><span style="color: rgb(106, 153, 85);">/* NUmber of table entries */</span></div><div>    {<span style="color: #b5cea8;">0</span>, <span style="color: #b5cea8;">0</span>,},<span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="color: rgb(106, 153, 85);">/* reserved fields */</span></div><div>    {</div><div>     <span style="color: #bd63c5;">offsetof</span>(<span style="color: #569cd6;">struct</span> remote_resource_table, rpmsg_vdev),</div><div>    },<span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="color: rgb(106, 153, 85);">/* Offsets of rsc entries */</span></div><div>    {</div><div>     <span style="color: #b8d7a3;">RSC_VDEV</span>, <span style="color: #bd63c5;">VIRTIO_ID_RPMSG_</span>, <span style="color: #b5cea8;">0</span>, <span style="color: #bd63c5;">RPMSG_IPU_C0_FEATURES</span>, <span style="color: #b5cea8;">0</span>, <span style="color: #b5cea8;">0</span>, <span style="color: #b5cea8;">0</span>,</div><div>     <span style="color: #bd63c5;">NUM_VRINGS</span>, {<span style="color: #b5cea8;">0</span>, <span style="color: #b5cea8;">0</span>},</div><div>    },<span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span><span style="color: rgb(106, 153, 85);">/* Virtio device entry */</span></div><div>    {<span style="color: #bd63c5;">RING_TX</span>, <span style="color: #bd63c5;">VRING_ALIGN</span>, <span style="color: #bd63c5;">VRING_SIZE</span>, <span style="color: #b5cea8;">1</span>, <span style="color: #b5cea8;">0</span>},<span style="color: rgb(106, 153, 85);">/* Vring rsc entry - part of vdev rsc entry */</span></div><div>    {<span style="color: #bd63c5;">RING_RX</span>, <span style="color: #bd63c5;">VRING_ALIGN</span>, <span style="color: #bd63c5;">VRING_SIZE</span>, <span style="color: #b5cea8;">2</span>, <span style="color: #b5cea8;">0</span>},<span style="color: rgb(106, 153, 85);">/* Vring rsc entry - part of vdev rsc entry */</span></div><div>};</div></div></div></div></div></div></foreignObject><text x="847" y="177" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="24px">struct remote_resource_table __resource resources = {...</text></switch></g><rect x="767" y="140" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 155px; margin-left: 768px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">实例化</font></div></div></div></foreignObject><text x="797" y="159" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">实例化</text></switch></g><path d="M 1326.67 1040 L 1116.1 976.83" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1111.07 975.32 L 1118.78 973.98 L 1116.1 976.83 L 1116.77 980.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1280" y="1040" width="260" height="50" rx="7.5" ry="7.5" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1065px; margin-left: 1281px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);"><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rproc_virtio_virtqueue_notify</span>()</font></div></div></div></foreignObject><text x="1410" y="1069" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rproc_virtio_virtqueue_notify()</text></switch></g><path d="M 1418.7 1220.5 L 1410.42 1096.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1410.07 1091.12 L 1414.03 1097.87 L 1410.42 1096.35 L 1407.05 1098.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1270" y="1220.5" width="300" height="39" rx="5.85" ry="5.85" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 1240px; margin-left: 1271px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="background-color: rgb(30, 30, 30);"><span style="color: rgb(200, 200, 200);">vq_ring_notify() -&gt; </span><span style="color: rgb(127, 127, 127);">vq</span>-&gt;<span style="color: rgb(218, 218, 218);">notify</span>(<span style="color: rgb(127, 127, 127);">vq</span>)</span></div></div></div></div></foreignObject><text x="1420" y="1244" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">vq_ring_notify() -&gt; vq-&gt;notify(vq)</text></switch></g><path d="M 1592.28 1325 L 1425.95 1261.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1421.05 1259.9 L 1428.83 1259.11 L 1425.95 1261.76 L 1426.34 1265.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1557.5" y="1325" width="159" height="34" rx="5.1" ry="5.1" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 157px; height: 1px; padding-top: 1342px; margin-left: 1559px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: rgb(200, 200, 200); background-color: rgb(30, 30, 30);">virtqueue_kick()</span></div></div></div></div></foreignObject><text x="1637" y="1346" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_kick()</text></switch></g><rect x="1547" y="1369" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1384px; margin-left: 1548px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1577" y="1388" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1487" y="1279" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1294px; margin-left: 1488px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#ff3333">调用通知</font></div></div></div></foreignObject><text x="1517" y="1298" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用通知</text></switch></g><path d="M 1630 1239.93 L 1576.37 1239.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1571.12 1240 L 1578.11 1236.49 L 1576.37 1239.99 L 1578.12 1243.49 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1630" y="1220" width="290" height="39.5" rx="5.92" ry="5.92" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 1240px; margin-left: 1631px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: #c8c8c8;">virtqueue_create(</span><span style="color: rgb(127, 127, 127);">vdev</span><span style="">-&gt;</span><span style="color: rgb(218, 218, 218);">func</span><span style="">-&gt;</span><span style="color: rgb(218, 218, 218);">notify</span><span style="color: rgb(200, 200, 200);">)</span><br /></div></div></div></div></foreignObject><text x="1775" y="1243" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">virtqueue_create(vdev-&gt;func-&gt;notify)
</text></switch></g><rect x="1575" y="1235" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1250px; margin-left: 1576px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">绑定</font></div></div></div></foreignObject><text x="1605" y="1254" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">绑定</text></switch></g><path d="M 1970 1239.68 L 1926.37 1239.74" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1921.12 1239.75 L 1928.11 1236.24 L 1926.37 1239.74 L 1928.12 1243.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1970" y="1219.5" width="260" height="40" rx="6" ry="6" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1240px; margin-left: 1971px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">rpmsg_virtio_create_virtqueues()</font></div></div></div></div></foreignObject><text x="2100" y="1243" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_virtio_create_virtqueues()</text></switch></g><rect x="1260" y="1279" width="129" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 127px; height: 1px; padding-top: 1294px; margin-left: 1261px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#ff3333">调用自己编写的函数</font></div></div></div></foreignObject><text x="1325" y="1298" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用自己编写的函数</text></switch></g><rect x="1400" y="1170" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1185px; margin-left: 1401px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1430" y="1189" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="1919" y="1235" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1250px; margin-left: 1920px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1949" y="1254" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><path d="M 480 1119.5 L 510 1119.88 Q 520 1120 520 1130 L 520 1302.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 520 1307.88 L 516.5 1300.88 L 520 1302.63 L 523.5 1300.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="1009.5" width="260" height="220" rx="13.2" ry="13.2" fill="#ffff00" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 258px; height: 1px; padding-top: 1120px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>struct <font color="#ff3333">remoteproc</font> {</div><div><span style="">	</span><span style="white-space: pre;">	</span>metal_mutex_t lock;</div><div><span style="">	</span><span style="white-space: pre;">	</span>void *rsc_table;</div><div><span style="">	</span><span style="white-space: pre;">	</span>size_t rsc_len;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct metal_io_region *rsc_io;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct metal_list mems;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct metal_list vdevs;</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned long bitmap;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct remoteproc_ops *ops;</div><div><span style="">	</span><span style="white-space: pre;">	</span>metal_phys_addr_t bootaddr;</div><div><span style="">	</span><span style="white-space: pre;">	</span>struct loader_ops *loader;</div><div><span style="">	</span><span style="white-space: pre;">	</span>unsigned int state;</div><div><span style="">	</span><span style="white-space: pre;">	</span>void *priv;</div><div>};</div></div></div></div></foreignObject><text x="222" y="1123" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">struct remoteproc {...</text></switch></g><rect x="235" y="910" width="180" height="70" fill="#ffff00" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 945px; margin-left: 236px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 26px; background-color: rgb(255, 255, 0);" color="#ff0000">Remoteproc</font></div></div></div></foreignObject><text x="325" y="949" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Remoteproc</text></switch></g><rect x="310" y="1543" width="50" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 1558px; margin-left: 311px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Step5</div></div></div></foreignObject><text x="335" y="1562" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">Step5</text></switch></g><rect x="320" y="1680" width="50" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 1695px; margin-left: 321px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Step4</div></div></div></foreignObject><text x="345" y="1699" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">Step4</text></switch></g><rect x="20" y="1437" width="50" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 1452px; margin-left: 21px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Step3</div></div></div></foreignObject><text x="45" y="1456" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">Step3</text></switch></g><rect x="210" y="979.5" width="250" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 995px; margin-left: 211px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#ff0000" style="background-color: rgb(255, 255, 0);">Step1 :<span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">platform_create_proc()</span></font></div></div></div></foreignObject><text x="335" y="998" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">Step1 :platform_create_proc()</text></switch></g><rect x="520" y="1270" width="260" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1285px; margin-left: 521px;"><div data-drawio-colors="color: #FF3333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="background-color: rgb(255, 255, 0);">Step2 :<span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">remoteproc_create_virtio()</span></span></div></div></div></foreignObject><text x="650" y="1289" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">Step2 :remoteproc_create_virtio()</text></switch></g><path d="M 1389 1580 L 1543.63 1580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1548.88 1580 L 1541.88 1583.5 L 1543.63 1580 L 1541.88 1576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1283" y="1565.5" width="106" height="29" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 104px; height: 1px; padding-top: 1580px; margin-left: 1284px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 26px; background-color: rgb(0, 0, 0);" color="#c8c8c8">运行调用</font></div></div></div></foreignObject><text x="1336" y="1584" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">运行调用</text></switch></g><path d="M 1040 1538.75 L 1040 1496.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1040 1491.12 L 1043.5 1498.12 L 1040 1496.37 L 1036.5 1498.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="845" y="1538.75" width="390" height="50" rx="7.5" ry="7.5" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 388px; height: 1px; padding-top: 1564px; margin-left: 846px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><p class="MsoNormal"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);">platform_create_rpmsg_vdev(<span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rpmsg_name_service_bind_cb</span>)</font></p></div></div></div></foreignObject><text x="1040" y="1567" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">platform_create_rpmsg_vdev(rpmsg_name_service_bind_cb)</text></switch></g><rect x="865" y="1393.75" width="350" height="24.5" rx="3.67" ry="3.67" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 348px; height: 1px; padding-top: 1406px; margin-left: 866px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><span style="color: rgb(127, 127, 127);">ept</span><span style="color: rgb(212, 212, 212);">-&gt;</span><span style="color: rgb(218, 218, 218);">cb = </span><span style="color: rgb(200, 200, 200);">rpmsg_virtio_ns_callback();</span><br /></div></div></div></div></foreignObject><text x="1040" y="1410" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ept-&gt;cb = rpmsg_virtio_ns_callback();
</text></switch></g><rect x="1030" y="1498" width="185" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 1513px; margin-left: 1031px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px;"><font color="#3333ff" style="">if (rdev-&gt;support_ns)</font></div></div></div></div></foreignObject><text x="1123" y="1517" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">if (rdev-&gt;support_ns)</text></switch></g><rect x="1223" y="1399" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1414px; margin-left: 1224px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1253" y="1418" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><path d="M 1040 1450 L 1040 1424.62" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1040 1419.37 L 1043.5 1426.37 L 1040 1424.62 L 1036.5 1426.37 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="860" y="1450" width="360" height="40" rx="6" ry="6" fill="#1e1e1e" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 358px; height: 1px; padding-top: 1470px; margin-left: 861px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#c8c8c8" style="background-color: rgb(30, 30, 30);"><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rpmsg_register_endpoint</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">(</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rdev</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">, &amp;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">rdev</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">-&gt;</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">ns_ept</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px;">);</span></font></div></div></div></foreignObject><text x="1040" y="1474" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">rpmsg_register_endpoint(rdev, &amp;rdev-&gt;ns_ept);</text></switch></g><rect x="1030" y="1421" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1436px; margin-left: 1031px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#3333ff">调用</font></div></div></div></foreignObject><text x="1060" y="1440" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">调用</text></switch></g><rect x="865" y="1630" width="770" height="670" rx="46.9" ry="46.9" fill="#99ffcc" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><rect x="890" y="1840" width="720" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 718px; height: 1px; padding-top: 1875px; margin-left: 891px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><font style="border-color: var(--border-color);"><font face="Calibri" style="border-color: var(--border-color);">rpmsg_create_ept(struct rpmsg_endpoint *ept, struct rpmsg_device *rdev,const char *name, uint32_t src, uint32_t dest,</font><span style="border-color: var(--border-color); font-family: Calibri;">,</span></font><span style="border-color: var(--border-color); font-family: Calibri;">rpmsg_ept_cb cb, rpmsg_ns_unbind_cb unbind_cb)</span></div></div></div></foreignObject><text x="1250" y="1879" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">rpmsg_create_ept(struct rpmsg_endpoint *ept, struct rpmsg_device *rdev,const char *name, uint32_t src,...</text></switch></g><rect x="1160" y="1650" width="150" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1680px; margin-left: 1161px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><font style="font-size: 28px;">ept创建</font></div></div></div></foreignObject><text x="1235" y="1684" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">ept创建</text></switch></g><rect x="890" y="1946" width="720" height="340" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 712px; height: 1px; padding-top: 1936px; margin-left: 895px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 350px; overflow: hidden;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><h1><font face="Calibri">rpmsg</font><span style="font-family: 宋体;"><font style="font-size: 28px;">在通信过程中需要注意的方面：</font></span></h1><p class="MsoNormal"><span></span></p><p>1.rpmsg_endpoint作为核心结构体必须存在</p><p>2.service name不同的通信连接，通过name来进行区分分组，用来命名。</p><p>3.src 本地endpoint通信的源地址，会出现在远端rpmsg_endpoint_cb()回调函数的src变量上，也影响rpmsg_destroy_ept()的调用，当使用自己定义的地址时，不会触发RPMSG_NS_DESTROY事件，无法产生rpmsg_service_unbind()回调， 造成远程核无法退出的情况。</p><p>4.dest 要建立连接的目标地址，也就是另外一端的通信源地址，只有当dest_addr == RPMSG_ADDR_ANY成立的时候，才会产生RPMSG_NS_CREATE事件，通知RPMSG_NS_EPT_ADDR进行创建操作，通常在建立链接前，与while (!is_rpmsg_ept_ready(&amp;lept))一起使用，来等待链接建立，此时ept-&gt;dest_addr的值会发生变化，变成远程endpoint的源地址。当使用自己定义的地址时候，则默认已经完成链接的创建。</p><p>5.cb 当建立的链接远程endpoint发送消息过来，则会调用此函数。</p><p>6.rpmsg_ns_unbind_cb 当远程endpoint销毁并且远程的src &gt;= RPMSG_RESERVED_ADDRESSES时，会调用此回调函数。</p></div></div></div></foreignObject><text x="895" y="1950" fill="#000000" font-family="Helvetica" font-size="14px">rpmsg在通信过程中需要注意的方面：...</text></switch></g><rect x="890" y="1720" width="720" height="100" rx="15" ry="15" fill="rgb(255, 255, 255)" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 1770px; margin-left: 892px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">Create a RPMsg endpoint, initialize it with a name, source address,remoteproc address, endpoint callback, and destroy endpoint callback,and register it to the RPMsg device.</font></div></div></div></foreignObject><text x="892" y="1778" fill="#000000" font-family="Helvetica" font-size="28px">Create a RPMsg endpoint, initialize it with a name,...</text></switch></g><rect x="1666" y="1630" width="790" height="670" rx="100.5" ry="100.5" fill="#99ffcc" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><rect x="1935" y="1655" width="230" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 1680px; margin-left: 1936px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><font style="font-size: 28px;"><span style="font-family: Calibri;">rpmsg_device</span>创建</font></div></div></div></foreignObject><text x="2050" y="1684" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">rpmsg_device创建</text></switch></g><rect x="1690" y="1720" width="720" height="150" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 1795px; margin-left: 1692px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;"><span style="">It will create rpmsg virtio device, and returns the rpmsg virtio device pointer.</span><br /><div style=""><span style="">@platform: pointer to the private data</span></div><div style=""><span style="">@vdev_index: index of the virtio device, there can more than one vdev on the platform.</span></div><div style=""><span style="">@role: virtio master or virtio slave of the vdev</span></div><div style=""><span style="">@rst_cb: virtio device reset callback</span></div><div style=""><span style="">@ns_bind_cb: rpmsg name service bind callback</span></div></font></div></div></div></foreignObject><text x="1692" y="1803" fill="#000000" font-family="Helvetica" font-size="28px">It will create rpmsg virtio device, and returns the...</text></switch></g><rect x="1690" y="1890" width="720" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="#ff0000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 1925px; margin-left: 1692px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;"><div><span style="color: #0000ff;">struct</span> <span style="color: #267f99;">rpmsg_device</span> *<span style="color: #795e26;">platform_create_rpmsg_vdev</span>(<span style="color: #0000ff;">void</span> *<span style="color: #001080;">platform</span>, <span style="color: #0000ff;">unsigned</span> <span style="color: #0000ff;">int</span> <span style="color: #001080;">vdev_index</span>, <span style="color: #0000ff;">unsigned</span> <span style="color: #0000ff;">int</span> <span style="color: #001080;">role</span>,<span style="color: rgb(0, 0, 255);">void</span> (*<span style="color: rgb(0, 16, 128);">rst_cb</span>)(<span style="color: rgb(0, 0, 255);">struct</span> <span style="color: rgb(38, 127, 153);">virtio_device</span> *vdev), <span style="color: rgb(38, 127, 153);">rpmsg_ns_bind_cb</span> <span style="color: rgb(0, 16, 128);">ns_bind_cb</span>)</div></div></div></div></div></foreignObject><text x="1692" y="1929" fill="#000000" font-family="Helvetica" font-size="14px">struct rpmsg_device *platform_create_rpmsg_vdev(void *platform, unsigned int vdev_index, unsigned int r...</text></switch></g><rect x="1690" y="1996" width="720" height="240" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2116px; margin-left: 1692px;"><div data-drawio-colors="color: #000000; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;"><div>弄清此函数的回调函数触发以及使用，我们需要首先了解一下platform_poll()函数的调用。</div><div>rpmsg_virtio_rx_callback()函数中，通过远程端发过来的rp_hdr-&gt;dst，查询对应地址的ept，遍历链表rpmsg_endpoint，调用注册的rpmsg_virtio_ns_callback函数，读取虚拟内存中rpmsg_ns_msg，匹配对应的name of remote service信息是否一致，不一致，则会调用回调函数rpmsg_name_service_bind_cb()：</div><div>send callback to application, that can</div><div><span style="">	</span>* - create the associated endpoints.</div><div><span style="">	</span>* - store information for future use.</div><div><span style="">	</span>* - just ignore the request as service not supported.</div></div></div></div></foreignObject><text x="1692" y="2121" fill="#000000" font-family="Helvetica" font-size="18px">弄清此函数的回调函数触发以及使用，我们需要首先了解一下platform_poll()函数的调用。...</text></switch></g><path d="M 1040 1588.75 L 1040 1610 Q 1040 1620 1050 1620 L 1640 1620 Q 1650 1620 1650.27 1630 L 1659.73 1986 Q 1660 1996 1666.82 1996 L 1673.63 1996" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1678.88 1996 L 1671.88 1999.5 L 1673.63 1996 L 1671.88 1992.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>